\chapter{Multi-agent epistemic goal achievement in $\langArbAct$} \label{chapter:Multiagent}

In this chapter, we examine an algebra for constructing action models that will, if possible, achieve
epistemic goals or cause a model to crash in the process.
We examine this goal achievement for a subset of agents $B \subseteq A$.\\
\\
In \cite{hales13synthesis}, Hales demonstrates that it is possible to determine whether a
finite epistemic goal can be achieved.
Furthermore, if it is achievable Hales specifies action models that will realise
that goal.
We will focus on defining a framework that goes beyond specification by constructing similar action models in a
recursive manner.
This facilitates an automated method for updating knowledge models to reflect a
knowledge state.\\
\\
Our framework complements Hales' work by providing meaningful, constructive operations
that can be used to create action models.
Furthermore, we specify methods for constructing actual action models using these languages, rather
than simply proving their existence.
Our work is thus a step forward in constructing updates that we can reason about and prove to
accomplish the same effects as any theoretical model that we can specify.\\
\\
This chapter is arranged as follows:

\begin{itemize}
	\item Section \ref{subsec:Multi:techPrelim} presents the technical preliminaries and definitions
		of the language for action model construction in $\AXK$
	\item Section \ref{subsec:multi:completeness} proves that the language constructs tree-like event
		models, which is the desired form for our constructions
	\item Section \ref{subsec:multi:achievingGoals} presents our main results regarding constructing
		action models for the purposes of epistemic goal achievement
	\item Section \ref{subsec:multi:sequentCalc} discusses our work in the context of goal
		achievement, some alternative approaches and open questions that this work raises
\end{itemize}

\section{Construction framework and definitions} \label{subsec:Multi:techPrelim}

The action models that Hales employs in \cite{hales13synthesis} resemble finite trees.
In order to give a good approximation of these models, we must define these tree-like structures and
give some ideas with regards to what properties they have.
We thus give a rigorous definition for them as follows

\begin{defn} \label{finTree}
Let $\evM_\evs = ((\evS, \evR, \evpr), \{\evs\})$ be a pointed action model.
$\evM_\evs$ is a {\em finite tree action model} if
\begin{itemize}
	\item $\evS$, the set of action points is finite
	\item $\evs$ is the root of the tree and is not accessible from any other action point
	\item for each $\evt \in \evS \setminus \{ \evs \}$ there is a unique agent $a \in A$ and a unique
	action $\evpr \in \evS$ such that $\aMod{(p,s)} \in \evR_a$
	\item for each $\evt \in \evS$ there exists a unique sequence of actions in $\evS$, $\evs = \evs_0,
	\evs_1, \ldots, \evs_n = \evt$ and a sequence of agents $a_1, a_2, \ldots, a_n$ such that $\evs_0
	\evR_{a_1}
	\evs_1$, $\evs_1 \evR_{a_2} \evs_2$, $\ldots, \evs_{n-1} \evR_{a_n} \evs_n$
\end{itemize}
\end{defn}

We say that the class of finite tree action models is $\treeClass$ (an example is shown in Figure
\ref{figure:exampleTree}).
It is worthwhile noting that a similar definition (point generated models) is given for Kripke models in Blackburn, de Rijke
and Venema \cite{blackburn2002modal}, but our definition specifically pertains to action models.
We make an important note that insanity models are the most basic kind of tree-like action models.

\begin{lemma} \label{insaneIsTree}
	Any insanity action model (Definition \ref{insanity}) is also a tree action model.
	That is, $\insaneClass$ is contained within $\treeClass$.
\end{lemma}

\begin{figure}
\centering
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
      thick]

    \node[vertex] (1) {$\evs$};
    \node[vertex] (2) [below left of=1] {$\evt_1$};
    \node[vertex] (3) [below of=1] {$\evt_2$};
    \node[vertex] (4) [below right of=1] {$\evt_3$};
    \node[vertex] (5) [below left of=3] {$\evu_1$};
    \node[vertex] (6) [below right of=3] {$\evu_2$};
    \path[edge]
          (1) edge node {} (2)
							edge node {} (3)
							edge node {} (4)
          (3) edge node {} (5)
							edge node {} (6);
\end{tikzpicture}
\caption[Example tree]{An example finite tree action model $\evM$, which has a root at $\evs$.}
\label{figure:exampleTree}
\end{figure}

It is clear that by our earlier definitions, an insanity action model is also a finite tree event
model.\\
\\
Having established tree-like structures, it seems somewhat natural to also rigourously define a
forest action model.

\begin{defn} \label{forest}
Let $\evM_\evT = ((\evS, \evR, \evpr), \evT)$ be a multi-pointed action model.
$\evM_\evT$ is a {\em finite forest action model} if
\begin{itemize}
	\item each point $\evt$ in $\evT$ is the root of a finite tree action model $\evM^\evt =
	(\evS^\evt, \evR^\evt,
	\evpr^\evt, \evt)$
  \item $\evS = \bigcup_{\evt \in \evT} \evS^\evt$
	\item for each $\evs \in \evS^\evt$, $\evpr(\evs) = \evpr^\evt(\evs)$
	\item if $\evs, \evt \in \evT$ such that $\evs \neq \evt$, then $\evS^\evs$ and $\evS^\evt$ are disjoint
  \item for each $a \in A \Rightarrow \evR_a = \bigcup_{\evt \in \evT} \evR_a^\evt$
\end{itemize}
\end{defn}

We say that the class of finite forest action models is $\forestClass$.

\begin{lemma} \label{treeIsForest}
	Any finite tree action model is also a finite forest action model.
	That is, $\treeClass$ is contained within $\forestClass$.
\end{lemma}

Again, it is clear that by our earlier definitions, a finite tree action model is also a finite forest event
model.\\
\\
Having defined a class of action models that are ``larger" than trees, it is also useful to be able
to refer to specific trees that are parts of larger models.
For example, since forest action models consist of tree action models, being able to refer to specific
tree action models is a useful ability which we specify in Definition \ref{subtree}, and show as an
example in Figure \ref{figure:subtreeExample}.

\begin{defn} \label{subtree}
Let $\evM_\evT = ((\evS, \evR, \evpr), \evT)$ be a finite forest action model.
We say the pointed action model $\evM^{\evr} = ((\evS^{\evr}, \evR^{\evr}, \evpr^{\evr}), \evr)$ is a {\em subtree} of $\evM$ if
\begin{itemize}
	\item $\evr \in \evS$
	\item $\evr \in \evS^\evr$
	\item $\evS^\evr \subseteq \evS$
	\item $\forall a \in A \Rightarrow \evR_a^\evr \subseteq \evR_a$
	\item $\forall \evs \in \evS^\evr \Rightarrow \evpr(\evs) = \evpr^\evr(\evs) $
	\item $\evM^\evr$ is a finite tree action model
\end{itemize}
\end{defn}

\begin{figure}
	\centering
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
      thick]

    \node[vertex,dashed] (1) {$\evs$};
    \node[vertex,dashed] (2) [below left of=1] {$\evt_1$};
    \node[vertex] (3) [below of=1] {$\evt_2$};
    \node[vertex,dashed] (4) [below right of=1] {$\evt_3$};
    \node[vertex] (5) [below left of=3] {$\evu_1$};
    \node[vertex] (6) [below right of=3] {$\evu_2$};
    \path[edge,dashed]
          (1) edge node {} (2)
							edge node {} (3)
							edge node {} (4);
		\path[edge]
          (3) edge node {} (5)
							edge node {} (6);
\end{tikzpicture}
	\caption[Example subtrees]{Here, the original finite tree action model is in dashed lines, whilst
	the thick lines are the subtree $\evM^{\evt_2}$.}
	\label{figure:subtreeExample}
\end{figure}

We also might need to refer to the ``bottom" elements of a tree --- its leaves.
This is clearly useful in an area where we intend to construct an action model, and more so if our
construction begins in a ``bottom-up" fashion.

\begin{defn} \label{leaf}
Let $\evM_\evr = ((\evS, \evR, \evpr), \evr)$ be a finite tree action model.
Let $\evM^{\evr'} = ((\evS', \evR', \evpr'), \evr')$ be a subtree of $\evM$.
$\evM^{\evr'}$ is a {\em leaf node} of $\evM$ if $\forall a \in A \Rightarrow \evR'_a = \varnothing$ and $\evS' = \{
\evr'\}$.
\end{defn}

We outline the leaves of a finite tree action model in Figure \ref{figure:exampleLeaves}.

\begin{figure}
	\centering
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
      thick]

    \node[vertex,dashed] (1) {$\evs$};
    \node[vertex] (2) [below left of=1] {$\evt_1$};
    \node[vertex,dashed] (3) [below of=1] {$\evt_2$};
    \node[vertex] (4) [below right of=1] {$\evt_3$};
    \node[vertex] (5) [below left of=3] {$\evu_1$};
    \node[vertex] (6) [below right of=3] {$\evu_2$};
    \path[edge,dashed]
          (1) edge node {} (2)
							edge node {} (3)
							edge node {} (4)
          (3) edge node {} (5)
							edge node {} (6);
\end{tikzpicture}
	\caption[Example leaves]{In this finite tree action model, action points $\evt_1$, $\evt_3$, $\evu_1$ and
	$\evu_2$ are leaves.}
	\label{figure:exampleLeaves}
\end{figure}

In order to generate these models, we must construct an algebra that can construct action models.
However, we are unaware of any operations that are appropriate for building tree models.
We define an operation to describe a group of agents' belief with regards to the possible execution
of one action model instead of another.

\begin{defn} \label{considers}
Let $\evM^1$ and $\evM^2$ be multi-pointed action models, and without loss of
generality let $\evM^1$ and $\evM^2$ be disjoint.
Let $B$ be a subset of agents participating in $\evM^1$ and $\evM^2$.
We define $\evM = \evM^1 \to_B \evM^2$ as 
\begin{itemize}
  \item $\evS = \evS^1 \cup \evS^2$
  \item $\evR_a = \evR^1_a \cup \evR^2_a \text{if } a \notin B$
	\item $\evR_a =
      \evR^1_a \cup
      \evR^2_a \cup
      \{(\evs,\evt) | \evs \in \evT^1 \land \evt \in \evT^2 \}
    \text{if } a \in B $
  \item $\evpr = \evpr^1 \cup \evpr^2$
  \item $\evT = \evT^1$
\end{itemize}
The $\to$ operator will be referred to as {\em ``considers"}.
\end{defn}

$\evM^1 \to_B \evM^2$ indicates that if $\evM^1$ was executed, an agent in $B$ considers $\evM^2$ as another
possible update.
In the case that $B = A$, we will denote this by $\to$, and if $B = \{a\}$, then
we will write $\to_a$.
We also present the disjoint union operator defined by Baltag and Moss in \cite{baltag2005programs}.

\begin{defn} \label{disjoint}
Let $\evM^1$ and $\evM^2$ be multi-pointed action models, and without loss of generality let $\evM^1$ and
$\evM^2$ be disjoint.
We define $\evM = \evM^1 \sqcup \evM^2$ as
\begin{itemize}
	\item $\evS = \evS^1 \cup \evS^2$
	\item $\evR_a = \evR^1_a \cup \evR^2_a$
	\item $\evpr = \evpr^1 \cup \evpr^2$
	\item $\evT = \evT^1 \cup \evT^2$
\end{itemize}
The $\sqcup$ operator will be referred to as {\em ``chooses"}.
\end{defn}

This is the disjoint union of the two action models, which we can refer to as the agents in $A$
knowing that one of the two models has occurred.
Baltag and Moss call this a non-deterministic choice \cite{baltag2005programs}.\\
\\
We now will show some miscellaneous results that we rely upon later in this chapter.
The first pertains to showing that applying the choice operator to two forests results in having one
larger forest.

\begin{lemma} \label{disjForestIsForest}
Let $\evM^1_{\evT^1}$ and $\evM^2_{\evT^2}$ be two disjoint forest action models.
Then $\evM_\evT = \evM^1_{\evT^1} \sqcup \evM^2_{\evT^2}$ is a forest action model.
\end{lemma}

\begin{proof}
We must show each of the following
\begin{enumerate}
	\item each $\evt \in \evT$ corresponds to a finite tree action model $\evM^\evt \in \treeClass$ \label{treeCorrespondence}
	\item for each $\evM^\evt$, $\evS^\evt \subseteq \evS$ \label{forestStateSubsets}
	\item for each $\evM^\evt$, $\evR^\evt \subseteq \evR$ \label{forestEdgeSubsets}
	\item for each $\evM^\evt$, for each $\evs \in \evS^\evt$, $\evpr^t(s) = \evpr(s)$ \label{preconMatch}
	\item for each $\evs, \evt \in \evT$, $\evS^\evs$ and $\evS^\evt$ are disjoint \label{subtreeStatesDisjoint}
\end{enumerate}

We note that $\evT = \evT^1 \sqcup \evT^2$.
Thus $\evt \in \evT \Rightarrow (\evt \in \evT^1 \lor \evt \in \evT^2)$.
Since $\evM^1_{\evT^1}$ and $\evM^2_{\evT^2}$ are both finite forest action models then there must be some
subtree action model $\evM^\evt \in \treeClass$ that corresponds to $\evt$.
Then condition \ref{treeCorrespondence} will hold.
Similar arguments can be made to show that conditions \ref{forestStateSubsets}, \ref{forestEdgeSubsets}
and \ref{preconMatch} hold.
Without loss of generality, let $\evt \in \evT^1$.\\
\\
Furthermore, by the definition of $\sqcup$ (Definition \ref{disjoint}), for any $\evM^\evt$, $\evS^\evt \subseteq \evS^1 \subseteq \evS$.
Also, $\evR^\evt \subseteq \evR^1 \subseteq \evR$ and for all $s \in \evS^1 \Rightarrow \evpr^\evt(s) = \evpr^1(s) =
\evpr(s)$.
Finally, if $\evt, \evt' \in \evT$, each $\evM^\evt$ is disjoint from any other $\evM^{\evt'}$ since
\begin{itemize}
	\item $\evt' \in \evT^1 \Rightarrow$ that condition \ref{subtreeStatesDisjoint} previously held for
	$\evM^1_{\evT^1} \in \forestClass$ and thus $\evS^{\evt'}$ is disjoint $\evS^\evt$
	\item $\evt' \in \evT^2$ will ensure that $\evS^{\evt'}$ and $\evS^\evt$ are disjoint by the premise of
	the lemma
\end{itemize}
\end{proof}

%A final miscellaneous result shown by Hales in \cite{hales13synthesis}, which we employ later, is reproduced here.
%
%\begin{lemma} \label{brestrictDisjoint}
%Suppose $\{ \evM^i_{\evT^i} = (\evS^i, \evR^i, \evpr^i, \evT^i) | i \in [1, n] \}$ is a finite set of $n$ event
%models.
%Furthermore, let each $\evM^i_{\evT^i} \in \eventClass_B$.
%Then
%\[
%	\evM_\evT = \bigsqcup_{i = 1}^{n} \evM^i_{\evT^i} \in \eventClass_B
%\]
%\end{lemma}
%
%\begin{proof}
%We will inductively show that for $k$ action models
%\[
%	\bigsqcup_{i = 1}^k \evM^i_{\evT^i} \in \eventClass_B
%\]
%We begin with our base case, where $k = 1$.
%This is trivially so by the definition of $\evM^1_{\evT^1}$.
%\[
%	\bigsqcup_{i = 1}^1 \evM^i_{\evT^i} = \evM^1_{\evT^1} \in \eventClass_B
%\]
%Now, suppose that our induction hypothesis holds for $k$ action models.
%Let $\evM^K_{\evT^K} = \bigsqcup_{i = 1}^k \evM^i_{\evT^i} \in \eventClass_B$.
%Then for $k+1$ action models, let
%\begin{align*}
%	\evM'_{\evT'} = & \bigsqcup_{i = 1}^{k+1} \evM^i_{\evT^i} \\
%	= & \bigsqcup_{i = 1}^k \evM^i_{\evT^i} \sqcup \evM^{k+1}_{\evT^{k+1}} \\
%	= & \evM^K_{\evT^K} \sqcup \evM^{k+1}_{\evT^{k+1}}
%\end{align*}
%We note that since $\evM'_{\evT'}$ is a disjoint union of action models, $\evM'_{\evT^i} \sim \evM^i_{\evT^i}$ is a
%trivial bisimilarity.
%Similarly, $\evM'_{\evT^K} \sim \evM^K_{\evT^K}$ is a trivial bisimilarity.\\
%\\
%Let $\gamma$ be either of $K$ or $k+1$, and suppose $\evs \in \evS^\gamma$.
%Let $\krMo_s \in \kripkeClass$.
%As $\evM^\gamma \in \eventClass_B$, then $\krMo_s \otimes \evM^\gamma_\evs \lesssim_B \krMo_s$.
%We note that due to $\evM'$ being a disjoint union of action models, $\evM'_\evs \sim \evM^\gamma_\evs$.
%Then from Lemma \ref{eventModelEquivalent} we have that $\krMo_s \otimes \evM^\gamma_\evs \sim N_s
%\otimes \evM'_\evs$.
%From Lemma \ref{bisimilarIsRefinement}, we have $\krMo_s \otimes \evM'_\evs \lesssim_B \krMo_s
%\otimes \evMo^\gamma_s$.
%From Lemma \ref{refinementPreorder}, $\lesssim_B$ is a transitive relation.
%Then $\krMo_s \otimes \evM'_\evs \lesssim_B \krMo_s$.
%Thus
%\[
%\evM'_{\evT'} = \bigsqcup_{i = 1}^{k+1} \evM^i_{\evT^i} \in \eventClass_B.
%\]
%\end{proof}

We can use the operations for choice and considers to construct finite tree and
forest action models, as we show in the next section.

\section{Completeness} \label{subsec:multi:completeness}

Within this section, we will show that the operations we have selected, along with insanity event
models, will be able to generate all possible finite tree action models.
This allows us to say that the language is complete.
This is necessary to show that our operations will construct all possible trees.
We will also show that using a tree, any kind of action model can be constructed, up to $n$-bisimilarity.

\begin{lemma} \label{finTreeConstruct}
Suppose $\evM_\evr = ((\evS, \evR, \evpr), \evr)$ is a finite tree action model.
$\evM$ can be constructed using insanity action models and $\to$.
\end{lemma}
\begin{proof}
Let $\evM'_{\evr'} = ((\evS', \evR', \evpr'), \evr')$ be a subtree of $\evM$.
We will show by induction that for any $\evM'$ we can use insanity action models and $\to$ to
construct $\evM'$.\\
\\
Suppose that $\evM'_{\evr'} = ((\evS', \evR', \evpr'), \evr')$ is a leaf node.
Let $\evpr'(\evr') = \phi$, a formula in our logical language.
$\evM'$ is an insanity action model by definition.
Thus, we can construct $\evM'$ using insanity action models when $\evM'$ is a leaf node of $\evM$.\\
\\
Let $\evM^{\evr'} = ((\evS^{\evr'}, \evR^{\evr'}, \evpr^{\evr'}), \evr')$ be an arbitrary subtree of $\evM$.
Suppose $\evpr'(\evr') = \phi$, where $\phi$ is a formula in our logical language.
Let $\evM^{\evr_1}, \evM^{\evr_2}, \ldots, \evM^{\evr_n}$ be all the disjoint subtrees of $\evM'$.
Suppose that each of $\evM^{\evr_1}, \evM^{\evr_2}, \ldots, \evM^{\evr_n}$ fulfil the induction hypothesis.
Furthermore, let there be agents $a_1, a_2, \ldots, a_n$ such that $\evr' \evR_{a_1} \evr^1$, $\evr'
\evR_{a_2} \evr^2, \ldots, \evr' \evR_{a_n} \evr^n$.\\
\\
Consider the $\evM^\evt = (\{ \evt \}, \evR^\evt, \evpr^\evt, \evt) \in \insaneClass$.
Let $\evpr^\evt(\evt) = \phi$.
Consider the action model 
\[
	\evM^\evt = (\ldots((\evM^\evt \to_{a_1} \evM^{\evr_1}) \to_{a_2} \evM^{\evr_2}) \to_{a_3} \ldots
	\to_{a_{n-1}} \evM^{\evr_{n-1}} ) \to_{a_n} \evM^{\evr_n}
\]
We will show that $\evM^\evt$ and $\evM^{\evr'}$ are equivalent action models.\\
\\
Each of $\evM^{\evr_1}, \evM^{\evr_2}, \ldots, \evM^{\evr_n}$ are subtrees of $\evM'$.
The action points, accessibilities and preconditions in each of $\evM^1, \evM^2, \ldots, \evM^n$ are
equivalent to the action points and the accessibilities and preconditions of those points in $\evM'$.
We can see that by its definition the ``root" of $\evM^K$, $\evt$ has the same precondition as $r'$.
Furthermore, both $r'$ and $\evt$ can access each of $\evM^{\evr_1}, \evM^{\evr_2}, \ldots
\evM^{\evr_n}$ by an $a_1, a_2, \ldots, a_n$ edge
respectively.\\
\\
Thus $\evM^{\evr'}$ and $\evM^\evt$ are equivalent.
We can form $\evM^{\evr'}$ using insanity action models and $\to$, and thus any arbitrary subtree of
$\evM^{\evr'}$
fulfils the induction hypothesis.
\end{proof}

We have shown that we can construct trees using the considers operator.
This is still not strong enough for our later results, since we need to also be able to construct
forests.
This is a strong motivation for the inclusion of both operations, and it is rather easy to show that
the addition of choice allows us to construct forests, as we see in Lemma \ref{forestCon}.

\begin{lemma} \label{forestCon}
Let $\evM = (\evS, \evR, \evpr, \evT)$ be a finite forest action model.
Then $\evM$ can be constructed using $\to$, $\sqcup$ and insanity action models.
\end{lemma}

\begin{proof}
	Let $\evM^\evt = ((\evS^\evt, \evR^\evt, \evpr^\evt), \evt) \in \treeClass$ be the
subtree of $\evM$ that corresponds to point $\evt \in \evT$ (Definition \ref{forest}).
By Lemma \ref{finTreeConstruct} we can generate from $\insaneClass$ and $\to$.
By Lemma \ref{treeIsForest} $\evM^\evt \in \forestClass$.
Then by a recursive and finite number of applications of Lemma
\ref{disjForestIsForest} we have that $\bigsqcup_{\evt \in \evT} \evM^\evt$ is a finite
forest action model.
\end{proof}

A corollary to Lemma \ref{forestCon} is shown in Corollary \ref{forestConCorr}.
We claim that if we have a forest, then the disjoint union of all its subtrees is enough to
reconstruct it.

\begin{corr} \label{forestConCorr}
Let $\evM_\evT = ((\evS, \evR, \evpr), \evT)$ be a finite forest action model, and for each $\evt \in \evT$ let $\evM^\evt \in
\treeClass$ be the subtree of $\evM$ corresponding to $\evt$.
Then
\[
	\evM = \bigsqcup_{\evt \in \evT} \evM^\evt.
\]
\end{corr}

\section{Achieving information goals} \label{subsec:multi:achievingGoals}

We now present our main result --- that the language we have specified is able to, up to
$n$-bisimilarity, construct any action model in $\AXK$.
With this, we show that our constructive operations are able to be used to build useful action models
and achieve the same effects as any other action model, up to a some specified modal depth.

\begin{thm} \label{approximatingEventModel}
Let $\evM_\evT \in \eventClass$ and $n$ be some non-negative integer.
Then there is some $\evM'_{\evT'} \in \forestClass$ such that $\evM_\evT \sim_n \evM'_{\evT'}$.
\end{thm}

\begin{proof}
Without loss of generality, for each pair $\evt, \evt' \in \evT$, we say that they are
$n$-disjoint.
That is there is no sequence of $n$ action points $\evt = \evs_1, \evs_2, \ldots,
\evs_n = \evt'$ and agents $a_1, a_2, \ldots, a_{n-1}$ such that $\evs_1 \evR_{a_1} \evs_2,
    \ldots, \evs_{n-1} \evR_{a_{n-1}} \evs_n$.
We will show inductively that for any $n$, the following two conditions hold
\begin{itemize}
\item there is a forest action model $\evM'_{\evT'} \in \forestClass$ such that $\evM'_{\evT'} \sim_n \evM_\evT$
\item for each $\evt \in \evT$, there is a $\evt' \in \evT'$ and subtree of $\evM'_{\evT'}$, $\evM^{\evt'}_{\evt'}$ such that
$\evM'_{\evt'} \sim_n \evM_\evt$
\end{itemize}
Suppose $n = 0$ as our base case.
Let $\evt \in \evT$, and consider the insanity model $\evM'_{\evt} \in \insaneClass$ such that $\evpr'(\evt) \iff
\evpr(\evt)$.
By Lemma \ref{insaneIsTree} $\evM'_{\evt} \in \treeClass$ and therefore by Lemma \ref{treeIsForest}
$\evM'_{\evt} \in \forestClass$ also holds.
By the definition of $n$-bisimilarity (Definition \ref{nBisimEvent}), $\evM'_{\evt}
\sim_0 \evM_\evt$.
Now, let
\[
  \evM'_{\evT'} = \bigsqcup_{\evt' \in \evT} \evM'_{\evt}
\]
By Lemma \ref{disjForestIsForest}, $\evM'_{\evT'} \in \forestClass$.
Furthermore, it is clear that each point $\evt \in \evT$ corresponds to some $\evt' \in \evT'$ such that $\evM_\evt
\sim_0 \evM'_{\evt'}$.
Lastly, since $\evM'_{\evT'}$ is the disjoint union of multiple finite tree action models, for $\evt, \evt' \in
\evT'$ we have that $\evS_\evt$ and $\evS_{\evt'}$ are disjoint.
Thus our induction hypothesis holds for $n = 0$.\\
\\
Now, suppose that the induction hypothesis holds for $n = k-1$ and let $n = k$.
Let $\evs \in \evT$ and $a \in A$.
By the induction hypothesis, for each $\evt \in \evs \evR_a$, we can construct $\evM^\evt \in \treeClass$ such that
$\evM^\evt \sim_{k-1} \evM_\evt$.
Consider $\evM^\evs \in \insaneClass \subseteq \forestClass$ such that $\evpr'(\evs) \iff
\evpr(\evs)$.
By the definition of $n$-bisimilarity (Definition \ref{nBisimEvent}), $\evM'_{\evs}
\sim_0 \evM_\evs$.\\
\\
Then, let
\[
	\evM'_{\evT'} = \bigsqcup_{\evs \in \evT} (\evM^\evs \to_a (\bigsqcup_{\evt \in \evs \evR_a}
	\evM^\evt))
\]
Our proof is decomposed into three parts.
First we show that $\evM'_{\evT'} \in \forestClass$.
Secondly, we show that for $\evt \in \evT$ there is a $\evt' \in \evT'$ such that the subtree $\evM^{\evt'}$ of
$\evM'_{\evT'}$ such that $\evM^{\evt'} \sim_n \evM_\evt$.
Lastly we show that $\evM'_{\evT'} \sim_k \evM_\evT$.\\
\\
To show that $\evM'_{\evT'} \in \forestClass$, the following four conditions must hold
\begin{enumerate}
	\item each point $\evt \in \evT'$ is the root of a finite tree action model $\evM^\evt =
		((\evS^\evt, \evR^\evt, \evpr^\evt), \evt)$ \label{forestConOne}
  \item $\evS' = \bigcup_{\evt \in \evT'} \evS^\evt$ \label{forestConTwo}
  \item for each $a \in A \Rightarrow \evR'_a = \bigcup_{\evt \in \evT'} \evR^\evt_a$ \label{forestConFive}
	\item for each $\evs \in \evS^\evt$, $\evpr'(\evs) = \evpr^\evt(\evs)$ \label{forestConThree}
	\item if $\evs, \evt \in \evT'$ such that $\evs \neq \evt$, then $\evS^\evs$ and $\evS^\evt$ are disjoint
	\label{forestConFour}
\end{enumerate}

To show that \ref{forestConOne} holds, suppose $\evt \in \evT'$.
We must show that $\evM^\evt \in \treeClass$.
We observe that $\evS'$, the set of action points is finite, since it is the finite union of a set
of finite forest action models which in turn have finite sets of points. This follows from the
definition of $\evM'_{\evT'}$.\\
\\
Next, $\evt$ is the root of the tree and is not accessible from any other action point, which follows
from the definition of $\evM'_{\evT'}$ being a disjoint union of multiple models, and relations only
being added to $\evt \evR_a$ and none added to $\evR_a \evt$ for any $a \in A$.\\
\\
Suppose $\evs \in \evS' \setminus \{ \evt \}$.
Then there is an agent $a \in A$ and $\evs' \in \evt \evR'_a$ such that $\evs$ is an action point in
$\evS^{\evs'}$, the set of action points for the subtree $\evM^{\evs'}$ of $\evM^\evt$ with its root at
$\evs'$.\\
\\
Suppose $\evs = \evs'$.
Then the $\evR'_a \evs = \{ \evt \}$, and for any other $a'$, $\evR'_{a'} \evs = \varnothing$.\\
\\
Suppose $\evs \neq \evs'$.
Since $\evM^{\evs'} \in \treeClass$ by the definition of a finite tree action model (Definition \ref{finTree}) we have that there is some
$\evp \in \evS^{\evs'}$ and $a' \in A$ such that $\evp \evR'_{a'} \evs$.\\
\\
Finally let $\evs \in \evS^\evt$.
We must show that there is a finite sequence of action points $\evt = \evs_0, \evs_1, \evs_2, \ldots, \evs_n = \evs
\in \evS^\evt$ and agents $a_1, a_2, \ldots, a_n \in A$ such that $\evs_0 \evR_{a_1} \evs_1, \ldots, \evs_{n-1}
\evR_{a_n} \evs_n$.
If $\evs = \evt$ then there is a sequence of length 0 of such points.
Suppose $\evs \neq \evt$.
If so then there is some agent $a \in A$ and $\evs' \in \evt \evR'_a$ such that $\evs \in \evS^{\evs'}$, the set
of action points for the subtree $\evM^{\evs'}$ of $\evM^\evt$ with its root at $\evs'$.\\
\\
Since $\evM^{\evs'} \in \treeClass$ by the definition of a finite tree action model (Definition
\ref{finTree}) we have that there is some sequence of action points $\evs' = \evs_0, \evs_1, \evs_2, \ldots, \evs_n =
\evs \in \evS^{\evs'}$ and agents $a_1, a_2, \ldots, a_n \in A$ such that $\evs_0 \evR'_{a_1} \evs_1, \ldots,
\evs_{n-1} \evR'_{a_n} \evs_n$.
We already have shown that $\evR'_a \evs' = \{ \evt \}$.
Then there is a sequence $\evt \evR'_a \evs', \evs_0 \evR'_{a_1} \evs_1, \ldots, \evs_{n-1} \evR'_{a_n} \evs_n$.
Thus $\evM'_\evt \in \treeClass$ from Definition \ref{finTree} and as a result \ref{forestConOne} holds.\\
\\
Conditions \ref{forestConTwo}, \ref{forestConFive} and \ref{forestConThree} hold from the definition
of $\to$ (Definition \ref{considers}).
What remains is to show that \ref{forestConFour} holds.
Suppose that $\evs, \evt \in \evT'$ and $\evs \neq \evt$.
From hypothesis $\evS^\evs$ and $\evS^\evt$ are disjoint trees.
From the definition of $\to$ (Definition \ref{considers}) each of $\evS^\evs$ and $\evS^\evt$
remain disjoint.\\
\\
Next, we show that if $\evt \in \evT$ there is some $\evs \in \evT'$ and some subtree of $\evM'_{\evT'}$, $\evM^{\evs}$
such that $\evM^\evs \sim_k \evM_\evt$.
From the definition of $\evM'_{\evT'}$, there is a subtree of $\evM^\evs$, where $\evM^\evs \sim_0 \evM_\evt$.
Furthermore, by our induction hypothesis for each $a \in A$ and $\evt' \in \evt \evR_a$, there is an $a' \in
A$ and $\evs' \in \evs \evR_{a'}$ such that the subtree $\evM^{\evs'}$ of $\evM^\evs$ is $k-1$-bisimilar to
$\evM_{\evt'}$.
This allows us to satisfy {\bf $k$-forth-$a$} and {\bf $k$-back-$a$} for every $a \in A$.
We now only need show that $\evM^\evs \sim_{k-1} \evM'_\evs$.
It is clear from a simple inductive argument that this holds, by virtue of each $\evM^{\evs'}$ being
$k-2$-bisimilar to $\evM_{\evt'}$ (Definition \ref{nBisimEvent}).
Then $\evM^\evs \sim_k \evM_\evt$, where $\evs \in \evT'$ and $\evM^\evs$ a subtree of $\evM_{\evT'}$.\\
\\
Lastly, we show that $\evM'_{\evT'} \sim_k \evM_\evT$.
We have shown that for each $\evt \in \evT$, there is a $\evt' \in \evT'$ such that the subtree $\evM^{\evt'}
\sim_k \evM_\evt$.
We observe from the definition of $\evM'_{\evT'}$ that it is the disjoint union of models subtrees that
are $k$-bisimilar to a model in $\evT$.
That is, any $\evt' \in \evT'$ is the root of a subtree $\evM^{\evt'}$ of $\evM'_{\evT'}$ that is $k$-bisimilar
to $\evM_\evt$, for $\evt \in \evT$.
It is clear that as the finite disjoint union of $k$-bisimilar models, $\evM'_{\evT'}$ is itself $k$-bisimilar
to $\evM_\evT$.
Thus we have $\evM_\evT \sim_k \evM'_{\evT'}$ and our induction hypothesis holds for $n = k$.
\end{proof}

We have shown that any action model can be constructed by our language, up to $n$-bisimilarity.
If we focus on specific action models which can realise epistemic goals, as Hales
\cite{hales13synthesis} shows, then we can complement that work by constructing action models
specifically for the purpose of epistemic goal-achievement.

\begin{corr} \label{approximatingBRestricted}
Let $\phi \in \langArbAct$ and $B \subseteq A$.
Then there is some $\evM_\evT \in \forestClass$ such that $\vdash \sqex{\evM_\evT} \phi$ and
$\vdash \anex{\evM_\evT} \phi \iff \exists_B \phi$ is valid.
\end{corr}

\begin{proof}
Suppose $\phi \in \langArbAct$ and $MD(\phi) = n$.
By Lemma \ref{allInCoverNormal} and Lemma \ref{thm:AAMLExpressivelyEquivalent} there is a translation of $\phi$ from $\langArbAct$ to $\lang$.
Furthermore, Lemma \ref{allInCoverNormal} allows us to translate it into cover disjunctive normal form.
From \cite{hales13synthesis}, Hales synthesises an action model $\evM'_{\evT'}$ such that $\sqex{\evM_\evT} \phi$ and $\anex{\evM_\evT}
\phi \iff \exists_B \phi$.\\
\\
We construct $\evM_\evT \in \forestClass$ such that $\evM_\evT \sim_n \evM'_{\evT'}$.
Since $MD(\phi) \leq n$ and $\evM_\evT \sim_n \evM'_{\evT'}$ we have by \ref{nBisimilarEventExec} that any
formula $\phi \in \lang$ can be achieved by $\evM_\evT$ such that $\sqex{\evM_\evT} \phi$ and $\anex{\evM_\evT} \phi
\iff \exists_B \phi$.
\end{proof}

Within this chapter, our work has shown that we can, up to $n$-bisimilarity, construct any event
model.
This ensures that we can realise the effects of any action model, and that we need only worry about
the modal depth of the model to describe the action model.

\section{Analysis and open questions} \label{subsec:multi:sequentCalc}

We have shown that we can approximate action models according to what
post-conditions are realised by an action models execution.
This is achieved through the construction of a particular action model that fulfils
our desired post-conditions.\\
\\
This approach is powerful in guaranteeing the construction of an action model
that will always sure an epistemic goal state is fulfilled or that the Kripke
model is destroyed as a result of the execution.
We do not need to give any regard to the Kripke model that we are executing our
action model on.\\
\\
We can summarise this approach as an algorithm, shown in Algorithm \ref{algo:myAlgo}.

\begin{algorithm}
\begin{algorithmic}
  \REQUIRE{$\evM_\evT$ is an action model and $n \geq 0$}
    \STATE{$\evMM_\evU$ is the empty model}
    \FORALL {$\evt \in \evT$}
    \STATE{
      $\evM'_{\evt'} \in \insaneClass$ such that $\evpr'(\evt') = \evpr(\evt)$
      \IF{$n > 0$}
        \FORALL{$a \in A$}
          \STATE{$\evM'_{\evt'} \gets \evM'_{\evt'} \to_a$ createEquivalent($\evM_{\evt \evR_a}$, $n-1$)}
        \ENDFOR
      \ENDIF
      \STATE{$\evMM_\evU \gets \evMM_\evU \sqcup \evM'_{\evt'}$}}
    \ENDFOR
    \RETURN $\evMM_\evU$
\end{algorithmic}
\caption{The action model approximation algorithm that summarises our approach
to constructing an action model $\evMM_\evU$ that is $n$-bisimilar to
$\evM_\evT$.}
\label{algo:myAlgo}
\end{algorithm}

This algorithm ``unwinds" the action model into an $n$-bisimilar tree form of the
original action model into its finite forest action model.
To build a finite forest action model up to $n$-bisimilarity, where there are
$k$ agents involved in the action model and there are $m$ accessibilities from
each action point, the resulting action model would have an approximate size of
$O((mk)^n)$ action points.\\
\\
These action models thus have an exponential cost to construct.
Since each action point must be inspected once during construction we can conclude that in
terms of size and time, this algorithm's has an $O((mk)^n)$ complexity.
This is an expensive update to construct.\\
\\
In terms of epistemic goal achievement, this tree-like construction is shown to
have further weaknesses.
By combining Hales' \cite{hales13synthesis} work with our own we can achieve any
epistemic goal.
However, as we tie our realisation of an epistemic state to a specific action
model, we cannot make comments on whether our model is the smallest update to
guarantee an epistemic state, or whether the update we construct is a minimal
change with the weakest pre-condition.\\
\\
We show examples of achieving an epistemic goal with a smaller size update in Figure
\ref{figure:compareAnnounceSize}, where we have a two agent system comprising of
$B$ and $C$, and we want to construct an update such that $\Box_B \Box_C \Box_B
p \land \Box_C \Box_B \Box_C p$.

\begin{figure}
	\centering
	\begin{subfigure}[b]{.45\textwidth}
	\centering
	\begin{tikzpicture}[-,>=stealth',shorten >=1pt,auto,node distance=2cm,
				thick]
    \node[vertex] (1) {$\evs$};
    \node[vertex] (2) [below left of=1] {$\evt_1$};
    \node[vertex] (3) [below right of=1] {$\evt_2$};
    \node[vertex] (4) [below left of=2] {$\evu_1$};
    \node[vertex] (5) [below right of=3] {$\evu_2$};
    \node[vertex] (6) [right of=4] {$\evv_1$};
    \node[vertex] (7) [left of=5] {$\evv_2$};
    \path[edge]
      (1) edge node {$B$} (2)
          edge node {$C$} (3)
      (2) edge node {$C$} (4)
          edge node {$B$} (6)
      (3) edge node {$B$} (5)
          edge node {$C$} (7);
	\end{tikzpicture}
  \caption{An example action model that we generate to fulfil the condition
  $\Box_C \Box_B \Box_C p \land \Box_B \Box_C \Box_B p$, for $p$ some propositional
  atom and $C, B$ are agents in $A$.
  Here, $\evM_\evs$ is a finite tree action model, with $\evpr(\evs) = \exists
  (\Box_C \Box_B \Box_C p \land \Box_B \Box_C \Box_B p)$.}
  \label{subfigure:ourGenerated}
	\end{subfigure}
	~
	\begin{subfigure}[b]{.45\textwidth}
	\centering
	\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
				thick]
    \node[vertex] (1) {$\evs'$};
    \path[edge]
      (1) edge [loop right] node {} (1);
	\end{tikzpicture}
  \caption{The public announcement of $p$, $\evM'_{\evs'}$ such that
  $\evpr'(\evs')$. It will also achieve our epistemic
  goal but is much shorter to construct.}
	\end{subfigure}
	\caption[Comparing announcements against the models we generate]{Here, we can
  see that the succinctness of our constructed action models is
  somewhat lacking; our epistemic goal of $\Box_C \Box_B \Box_C p \land \Box_B \Box_C \Box_B p$
  is achieved by the smaller action model of a public announcement.}
	\label{figure:compareAnnounceSize}
\end{figure}

In addition to action model size, the change wrought by our tree-like action
models is rather destructive.
Kripke model points that are acted upon by the leaves of the action model update
lose all their accessibilities, and become effectively ``insane" models.
This is undesirable, since it becomes hard to interpret these models with
regards to knowledge and belief.
Much could be done to construct action models that were had weaker
preconditions, thus being more general and effecting a smaller change in the
resulting Kripke models.\\
\\
One approach to this problem is given by Aucher \cite{doi:10.3166/jancl.21.289-321,doi:10.1080/11663081.2012.736703}
who constructs a language for reasoning about action model properties.
His approach is to specify a descriptive approach to the action models, by
reasoning about an action model and its properties.
It is different to Hales' work and the approach we show here, in that it
specifies the characteristics of any action model that would achieve an
epistemic goal.\\
\\
Specifying certain properties such as ``the weakest possible pre-condition",
``the smallest number of action points" or ``the most robust update" allows for
the construction of updates that would be more useful than our
current action model representations.
It allows us to find updates that would still have the same epistemic goal
achievement properties as our current approach, but with the additional benefit
of succinctness and ``minimal change".\\
\\
Unifying these approaches would result in a more general and powerful method of constructing action
models and fulfilling goals.
Two open questions related to unifying Aucher and our own constructive approach are
\begin{enumerate}
	\item How can we build the smallest action model in terms of size that achieves $\phi$?
		It is worth noting that ``size" is at this rudimentary stage unclear, and we are implicitly discussing the
		number of event points.
		However, ``size" might instead be number of relations, or some other measure.
	\item How can we build the action model that minimally changes the epistemic situation and achieves
		$\phi$?
\end{enumerate}

%\FIXME: Needs to cite James

%\begin{lemma} \label{coverFormulaAchievementK}
%Let $B, C \subseteq A$ and
%\[
%\phi = \pi \land \bigwedge_{c \in C} \cover_c \Gamma_c \in \langArbAct
%\]
%where $\Gamma$ is a finite set.
%Suppose that for each $c \in C$, and for each $\gamma \in \Gamma_c$ there is an action model
%$M^\gamma_T \in \forestClass$ and $M^\gamma_T \in \eventClass_B$  such that
%$\vdash \sqex{M^\gamma_{T^\gamma}} \gamma$ and $\vdash \anex{ M^\gamma_{T^\gamma} } \gamma \iff
%\exists_B \gamma$.
%Then there exists a finite forest action model $M_T \in \forestClass$ and $M_T \in \eventClass_B$
%such that $\vdash \sqex{M_T}\phi$ and $\vdash \anex{ M_T } \phi \iff \exists_B \phi$.
%\end{lemma}
%
%\begin{proof}
%Let us say that $A$, a finite set of agents can be enumerated as $A = \{ a_1, a_2, \ldots, a_n\}$
%and that the set $A \setminus C = \{d_1, d_2, \ldots, d_k\}$.
%For each $a \in A$, if $a \in C$,
%\[
%	M^a_{T^a} = \bigsqcup_{\gamma \in \Gamma_a} M^\gamma_{T^\gamma}
%\]
%By Lemma \ref{disjForestIsForest} $M_c \in \forestClass$.
%Furthermore, by Lemma \ref{brestrictDisjoint}, $M_c \in \eventClass_B$.\\
%\\
%If $a \notin C$ then let (\FIXME plz)
%\[
%	M^a_{T^a} = (\{s\}, \varnothing, \{(s, \top)\}, \{s\}) \in \insaneClass.
%\]
%Consider the insanity model $M'_s \in \insaneClass$ such that $\evpr(s) =
%\exists_B \phi$.
%Let
%\[
%M_T = ((\ldots((M'_s \to_{a_1} M^{a_1}_{T^{a_1}}) \to_{a_2} M^{c_2}_{T^{a_2}}) \to_{a_3} \ldots )
%		\to_{a_n} M^{a_n}_{T^{a_n}}).
%\]
%Our proof is decomposed into four parts.
%Firstly, we show that $M_T \in \treeClass$ and therefore implicitly $M_T \in \forestClass$.
%model.
%Secondly, we show that $\vdash \sqex{M_T} \phi$.
%Thirdly, we show $\vdash \anex{ M_T } \phi \iff \exists_B \phi$.
%Lastly, we show that $M_T \in \eventClass_B$.\\
%\\
%According to Definition \ref{finTree} $M_T = (S, R, \evpr, T)$ is a finite tree action model if
%and only if the following four conditions must hold:
%\begin{enumerate}
%	\item $S$ is finite \label{treeConFinite}
%	\item $T = \{s\}$, where $R s = \varnothing$ \label{treeConRoot}
%	\item for each $s \in S \setminus T$ there is only one $a \in A$ and only one $p \in S$
%	such that $p R_a s$ \label{treeConOneAgent}
%	\item for each $s \in S$ there is a unique finite sequence of points in $S$, $s =
%	s_0, s_1, s_2, \ldots, s_k = s$ and a sequence of agents $a_1, a_2, \ldots, a_k$ such that $s_0
%	R_{a_1} s_1, s_1 R_{a_2} s_2, \ldots, a_{k-1} R_k
%	a_k$ \label{treeConUniquePath}
%\end{enumerate}
%
%We note that condition \ref{treeConFinite} is satisfied by the definition of $M_T$ as
%\[
%  S = \{s\} \bigcup_{a \in A} (\bigcup_{\gamma \in \Gamma}
%      S^{\gamma})
%\]
%where $\Gamma$ is a finite set and each $S^\gamma$ is finite.
%Therefore, $S$ itself must also be finite.\\
%\\
%Condition \ref{treeConRoot} is satisfied by the definition of $M_T$ and the definition of $\to$
%(Definition \ref{considers}).
%$\to$ only adds relations to $s R$, and $R s$ begins as $\varnothing$.
%Thus $s$ is not accessible from any other points.\\
%\\
%We next show \ref{treeConOneAgent} is satisfied.
%To do so we much show that for each $s$ in $S \setminus T = S \setminus \{ s \}$, there
%is a unique $p \in S$ and $a \in A$ such that $p R_a s$.
%Suppose that there is some $a \in A$ such that $s \in S^a$.
%If $s \in T^a$, then $R_a s = \{ s \}$ by the definition of $M_T$.
%Otherwise, by the definition of $M^a$, any $s \notin T^a$ is in some subforest of $M^a$
%and therefore there is a unique $p \in S^a$ and a unique agent $a' \in A$ such that $p R_{a'}
%s$.\\
%\\
%Lastly, we show that \ref{treeConUniquePath} holds.
%Suppose $s = s$; the sequence of action points is of length 0 and thus no agents are involved.
%Now, suppose $s \in S \setminus \{ s \}$.
%Then for some $a \in A$ we have $s \in S^a$.
%Then for some $s' \in T^a$ there is a unique sequence of agents $a_1, a_2, \ldots, a_n$ and action
%points $s' = s_0, s_1, s_2, \ldots, s_n = s$ such that $s_i R_{a_{i+1}} s_{i+1}$ for any $0 \leq i
%\leq n-1$.
%Furthermore, $s R_a s'$ by the definition of $M_T$, so we can combine the previous statement
%with $s R_a s'$ to say that there is a unique sequence of agents and points from $s$ to
%$s$.
%Thus, $M_T \in \treeClass \Rightarrow M_T \in \forestClass$ by Lemma \ref{treeIsForest}.\\
%\\
%Next, we shall show that $\vdash \sqex{M_T} \phi$.
%We will show that each of the following holds
%\begin{enumerate}
%	\item $\vdash \sqex{M_T} \pi$
%	\item $\vdash \sqex{M_T} \Box_c \bigwedge_{\gamma \in \Gamma_c} \gamma$ for every $c \in C$
%	\item $\vdash \sqex{M_T} \bigvee_{\gamma \in \Gamma_c} \Diamond_c \gamma$ for every $c \in C$
%\end{enumerate}
%
%Firstly we show $\vdash \sqex{M_T} \pi$.
%\begin{align}
%	& \vdash \phi \Rightarrow \pi \label{cfa_c1_1} \\
%	& \vdash \neg \pi \Rightarrow \neg \phi \label{cfa_c1_2}\\
%	& \vdash \forall (\neg \pi \Rightarrow \neg \phi) \label{cfa_c1_3}\\
%	& \vdash \forall \neg \pi \Rightarrow \forall \neg \phi \label{cfa_c1_4}\\
%	& \vdash \neg \forall \neg \phi \Rightarrow \neg \forall \neg \pi \label{cfa_c1_5}\\
%	& \vdash \exists \phi \Rightarrow \exists_B \pi \label{cfa_c1_6}\\
%	& \vdash \evpr(s) \Rightarrow \pi \label{cfa_c1_7}\\
%	& \vdash \sqex{M_s} \pi \label{cfa_c1_8}
%\end{align}
%(\ref{cfa_c1_3}) follows from \axNecR, (\ref{cfa_c1_4}) follows from \axR, (\ref{cfa_c1_6}) follows from
%$\exists$, (\ref{cfa_c1_7}) follows from the definition of $M$ (as $\evpr(s) = \exists \phi$) and
%(\ref{cfa_c1_8}) follows from \axAP.\\
%\\
%Now we suppose $c \in C$ and show $\vdash \sqex{M_T} \Box_c \bigwedge_{\gamma \in \Gamma} \gamma$.
%\begin{align}
%	& \vdash \sqex{M^{\gamma}_{T^{\gamma}}} \gamma \text{ for every }\gamma \in \Gamma^c
%	\label{cfa_c2_1} \\
%	& \vdash \bigwedge_{v \in T^\gamma} \sqex{M^\gamma_v} \gamma \text{ for every }\gamma \in \Gamma^c \label{cfa_c2_2} \\
%	& \vdash \Box \bigwedge_{v \in T^\gamma} \sqex{M^\gamma_v} \gamma \text{ for every } \gamma \in
%	\Gamma^c\label{cfa_c2_3} \\
%	& \vdash \bigwedge_{v \in T^\gamma} \Box_c \sqex{M^\gamma_v} \gamma \text{ for every } \gamma \in
%	\Gamma^c\label{cfa_c2_4} \\
%	& \vdash \bigwedge_{\gamma \in \Gamma^c} \bigwedge_{v \in T^\gamma} \Box_c \sqex{M^\gamma_v} \gamma\label{cfa_c2_5} \\
%	& \vdash \bigwedge_{\gamma \in \Gamma^c} \bigwedge_{v \in T^\gamma} \Box_c \sqex{M^\gamma_v}
%	\bigvee_{\gamma' \in \Gamma^c} \gamma'\label{cfa_c2_6} \\
%	& \vdash \bigwedge_{v \in s R} \Box_c \sqex{M_v}\bigvee_{\gamma' \in \Gamma^c} \gamma'\label{cfa_c2_7} \\
%	& \vdash \evpr(s) \Rightarrow \bigwedge_{v \in s R} \Box \sqex{M_v} \bigvee_{\gamma' \in
%		\Gamma^c} \gamma'\label{cfa_c2_8} \\
%	& \vdash \sqex{M_s} \Box_c \bigvee_{\gamma' \in \Gamma^c} \gamma'\label{cfa_c2_9} 
%\end{align}
%(\ref{cfa_c2_1}) follows from our hypothesis, (\ref{cfa_c2_2}) follows from \axAU, and (\ref{cfa_c2_8})
%	follows from \axAK.\\
%\\
%Finally, let $c \in C$. We then show $\vdash \sqex{M_s}\bigwedge_{\gamma \in \Gamma^c}
%\Diamond_c \gamma$.\\
%\\
%Suppose that $c \in B$.
%Then
%\begin{align}
%	& \vdash \exists_B \phi \Rightarrow \exists_B \cover_c \Gamma_c \label{cfa_c3_1a}\\
%	& \vdash \exists_B \phi \Rightarrow \bigwedge_{\gamma \in \Gamma} \Diamond \exists_B
%	\gamma\label{cfa_c3_2a}
%\end{align}
%(\ref{cfa_c3_1a}) follows from similiar reasoning for (\ref{cfa_c1_1} - \ref{cfa_c1_6}) and
%(\ref{cfa_c3_2a}) follows from \axRK.\\
%\\
%Now suppose $c \notin B$.
%Then
%\begin{align}
%	& \vdash \exists_B \phi \Rightarrow \exists_B \cover_c \Gamma_c \label{cfa_c3_1b}\\
%	& \vdash \exists_B \phi \Rightarrow \cover_c \{\exists_B \gamma | \gamma \in \Gamma_c \}a
%	\label{cfa_c3_2b}\\
%	& \vdash \exists_B \phi \Rightarrow \bigwedge_{\gamma \in \Gamma} \Diamond_c \exists_B \gamma
%	\label{cfa_c3_3b}
%\end{align}
%(\ref{cfa_c3_1b}) follows from similiar reasoning for (\ref{cfa_c1_1} - \ref{cfa_c1_6}).
%(\ref{cfa_c3_2b}) follows from \axRComm.
%(\ref{cfa_c3_3b}) follows from the definition of the cover operator (Definition \ref{coverDef}).\\
%\\
%Thus for any $c \in C$ we have that $\vdash \exists_B \phi \Rightarrow \bigwedge_{\gamma \in \Gamma}
%\Diamond_c \exists_B \gamma$.
%Then for any $c \in C$
%\begin{align}
%	& \vdash \exists_B \phi \Rightarrow \bigwedge_{\gamma \in \Gamma} \Diamond_c \anex{
%	M^\gamma_{T^{\gamma}} } \gamma\label{cfa_c3_3}\\
%	& \vdash \exists_B \phi \Rightarrow \bigwedge_{\gamma \in \Gamma} \Diamond_c \anex{
%	\bigvee_{v \in T^\gamma} M^\gamma_{v} } \gamma\label{cfa_c3_4}\\
%	& \vdash \exists_B \phi \Rightarrow \bigwedge_{\gamma \in \Gamma} \Diamond_c \anex{
%	\bigvee_{v \in s R} M^\gamma_{v} } \gamma\label{cfa_c3_5}\\
%	& \vdash \bigwedge_{\gamma \in \Gamma} (\exists_B \phi \Rightarrow \bigvee_{v \in s R_c}
%	\Diamond_c \anex{ M^\gamma_{v} } \gamma)\label{cfa_c3_6}\\
%	& \vdash \bigwedge_{\gamma \in \Gamma} (\exists_B \phi \Rightarrow \anex{ M^\gamma_{s}
%	} \Diamond_c \gamma)\label{cfa_c3_7}\\
%	& \vdash \bigwedge_{\gamma \in \Gamma} ([M^\gamma_{s}] \Diamond_c \gamma)\label{cfa_c3_8}
%\end{align}
%We have (\ref{cfa_c3_3}) follows from (\ref{cfa_c3_3b}) and (\ref{cfa_c3_2a}).
%Then (\ref{cfa_c3_4}) follows from hypothesis, (\ref{cfa_c3_5}) from \axAU, (\ref{cfa_c3_6}) and
%(\ref{cfa_c3_7}) from the definition of $M$ and (\ref{cfa_c3_8}) from \axAK.\\
%\\
%Together, we combine our result to show
%\begin{align}
%	& \vdash \sqex{M_s} (\pi \land \bigwedge_{c \in C} \left( \sqex{M_s} \Box_c \bigvee_{\gamma \in
%		\Gamma^c} \gamma \land
%	\bigwedge_{\gamma \in \Gamma^c} \sqex{M_s} \Diamond_c \gamma \right) \label{cfa_cc_1} \\
%	& \vdash \sqex{M_s}(\pi \land \bigwedge_{c \in C} \cover_c \Gamma_c) \label{cfa_cc_2}
%\end{align}
%(\ref{cfa_cc_1}) follows from (\ref{cfa_c1_8}), (\ref{cfa_c2_7}) and (\ref{cfa_c3_8}) and
%(\ref{cfa_cc_2}) follows from \axAC.\\
%\\
%Next, we show that $\vdash \anex{ M_T } \phi \iff \exists \phi$.
%\begin{align}
%	& \vdash \anex{ M_s } \phi \iff (\evpr(s) \land [ M_s ] \phi \label{cfa_cc1_1}\\
%	& \vdash \anex{ M_s } \phi \iff \evpr(s) \label{cfa_cc1_2}\\
%	& \vdash \anex{ M_s } \phi \iff \exists \phi\label{cfa_cc1_3}
%\end{align}
%(\ref{cfa_cc1_1}) follows from a simple semantic argument, (\ref{cfa_cc1_2}) follows from
%(\ref{cfa_cc_2}) and (\ref{cfa_cc1_3}) follows from the definition of $M$.\\
%\\
%Lastly, we show that $M_s \in \eventClass_B$.
%\end{proof}
%
%\begin{lemma} \label{disjunctionFormulaAchievementK}
%Let $\phi = \alpha \lor \beta \in \langArbAct$ and $B \subseteq A$.
%Suppose that for $\gamma \in \{\alpha, \beta\}$ there is a finite forest action model
%$M^\gamma_{T^\gamma} \in \forestClass$ and $M^\gamma_{T^\gamma} \in \eventClass_B$ such that
%$\vdash \sqex{M^\gamma_{T^\gamma}} \gamma$
%and $\vdash \anex{ M^\gamma_{T^\gamma} } \gamma \iff \exists \gamma$.
%Then there exists a finite forest action model $M_T \in \forestClass$ and $M_T \in \eventClass_B$
%such that $\vdash \sqex{M_T}\phi$ and $\vdash \anex{ M_T } \phi \iff \exists_B \phi$.
%\end{lemma}
%
%\begin{proof}
%Let $M_T = M^\alpha_{T^\alpha} \sqcup M^\beta_{T\beta}$.
%We will show three things.
%Firstly, that $M_T$ is a finite forest action model.
%Secondly, that $\vdash \sqex{M_T}\phi$.
%Lastly, we show $\vdash \anex{ M_T } \phi \iff \exists \phi$.
%We assume, without loss of generality, that $S^\alpha$ and $S^\beta$ are disjoint.\\
%\\
%To show that $M_T$ is a finite forest action model, we observe that $M_T$ is a disjoint union of two
%finite forest action models who are both disjoint.
%Then by Lemma \ref{disjForestIsForest} $M_T$ is a finite forest action model.
%Note that each action point in $M_T$ is bisimilar to a corresponding point in $M^\alpha_{T^\alpha}$ or
%$M^\beta_{T^\beta}$.\\
%\\
%Next, we show that $\vdash \sqex{M_T}\phi$.
%\begin{align}
%	&\vdash \sqex{M^\alpha_{T^\alpha}}\alpha \land \sqex{M^\beta_{T^\beta}}\beta \label{djfa_c1_1}\\
%	&\vdash \sqex{M_{T^\alpha}}\alpha \land \sqex{M_{T^\beta}}\beta \label{djfa_c1_2}\\
%	&\vdash \sqex{M_{T^\alpha}}(\alpha \lor \beta) \land \sqex{M_{T^\beta}}(\alpha \lor \beta) \label{djfa_c1_3} \\
%	&\vdash \sqex{M_T}(\alpha \lor \beta) \label{djfa_c1_4}
%\end{align}
%(\ref{djfa_c1_1}) follows from our hypothesis, (\ref{djfa_c1_2}) follows from Lemma \ref{eventModelEquivalent} and the fact that
%$M_{T^\alpha} \sim M^\alpha_{T^\alpha}$ and $M_{T^\beta} \sim M^\beta{T^\beta}$.
%(\ref{djfa_c1_3}) is a simple introduction of disjunctions and (\ref{djfa_c1_4}) follows from \axAU, as
%$T = T^\alpha \cup T^\beta$.\\
%\\
%Now we show that $M_T$ is a $B$-restricted action model.
%Since $M^\alpha, M^\beta \in \eventClass_B$, by Lemma \ref{brestrictDisjoint} $M_T \in
%\eventClass_B$.\\
%\\
%Finally, we show that $\anex{M_T} \iff \exists \phi$.
%\begin{align}
%	&\vdash \exists (\alpha \lor \beta) \Rightarrow (\exists \alpha \lor \exists \beta) \label{djfa_c2_1} \\
%	&\vdash \exists (\alpha \lor \beta) \Rightarrow (\anex{ M^\alpha_{T^\alpha} } \alpha \lor
%			\anex{ M^\beta_{T^\beta} }\beta) \label{djfa_c2_2}\\
%	&\vdash \exists (\alpha \lor \beta) \Rightarrow (\anex{M_{T^\alpha}} \alpha \lor \anex{M_{T^\beta}}
%			\beta)\label{djfa_c2_3}\\
%	&\vdash \exists (\alpha \lor \beta) \Rightarrow (\anex{M_{T^\alpha}} (\alpha \lor \beta) \lor \anex{M_{T^\beta}}
%			(\alpha \lor \beta))\label{djfa_c2_4}\\
%	&\vdash \exists (\alpha \lor \beta) \Rightarrow (\anex{M_T} (\alpha \lor \beta))\label{djfa_c2_5}
%\end{align}
%(\ref{djfa_c2_1}) follows from \axR, (\ref{djfa_c2_2}) follows from hypothesis and
%(\ref{djfa_c2_3}) follows from Lemma \ref{eventModelEquivalent} and $M_{T^\alpha} \sim M^\alpha_{T^\alpha}$ and $M_{T^\beta}
%\sim M^\beta_{T^\beta}$.
%(\ref{djfa_c2_4}) is a simple disjunction introduction, and (\ref{djfa_c2_5}) follows from \axAU.\\
%\\
%The converse, $\vdash \anex{M_T} \phi \Rightarrow \exists \phi$ follows from a semantic
%argument, from $M_T \in \eventClass_B$, from Lemma \ref{eventModelsRefine} and the completeness of \AXAAML.\\
%\end{proof}
%
%\begin{thm} \label{goalAchievementK}
%Let $\phi \in \langArbAct$ be a finite formula.
%Then there exists a finite forest action model $M_T \in \eventClass$ such that
%$\vdash \sqex{M_T}\phi$ and $\vdash \anex{ M_T } \phi \iff \exists \phi$.
%\end{thm}
%
%\begin{proof}
%Without loss of generality from Lemma {\FIXME} we may assume that $\phi \in \lang$, and from Lemma
%\ref{allInCoverNormal} we may further assume that $\phi$ is in cover disjunctive normal form.
%We proceed with an inductive case on the structure of $\phi$.\\
%\\
%Suppose that $\phi = \pi \land \cover \Gamma$ where $\pi \in \langProp$ and $\Gamma \subseteq \lang$
%is a finite set of formulae.
%From the induction hypothesis, for every $\gamma \in \Gamma$ there exists a finite forest event
%model $N^\gamma_{T^\gamma} \in \eventClass$ such that $\vdash \sqex{N^\gamma_{T^\gamma}} \gamma$ and
%$\vdash \anex{N^\gamma_{T^\gamma}} \gamma \iff \exists \gamma$.
%Then from Lemma \ref{coverFormulaAchievementK} there exists a finite forest action model $M_T$ such
%that $\vdash \sqex{M_T} \phi$ and $\vdash \anex{M_T} \phi \iff \exists \phi$.
%We note that the base case for the induction occurs when $\Gamma = \varnothing$ and thus $\phi =
%\pi$.\\
%\\
%Suppose that $\phi = \alpha \lor \beta$.
%Then from the induction hypothesis there exists finite forest action models $N^\alpha_{T^\alpha}$ and
%$N^\beta_{T^\beta} \in \eventClass$ such that for $\gamma \in \{\alpha, \beta\}:
%\vdash \sqex{N^\gamma_{T^\gamma}} \gamma \land \vdash \anex{N^\gamma_{T^\gamma}} \iff \exists
%\gamma$.
%Then from Lemma \ref{disjunctionFormulaAchievementK} there exists a finite forest action model $M_T$ such
%that $\vdash \sqex{M_T}$ and $\vdash \anex{M_T} \phi \iff \exists \phi$.
%\end{proof}
