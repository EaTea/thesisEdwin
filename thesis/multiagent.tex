\section{Multi-agent epistemic goal achievement in $\langArbAct$ --- filler text added 7 September
2013} \label{chapter:Multiagent}

In this chapter, we examine an algebra for constructing event models that will, if possible, achieve
epistemic goals or cause a model to crash in the process.
We examine this goal achievement for a subset of agents $B \subseteq A$.\\
\\
In \cite{hales13synthesis}, Hales demonstrates that it is possible to determine whether an
finite epistemic goal can be achieved.
Furthermore, if it is achievable Hales constructs event models that will realise
that goal.
We will focus on defining a framework that constructs these event models in a
recursive manner.
This facilitates an automated method for updating knowledge models to reflect a
knowledge state.

\subsection{Technical preliminaries}

The event models that Hales employs resemble finite trees.
We give a rigourous definition for them as follows

\begin{defn} \label{finTree}
Let $\evM_\evs = (\evS, \evR, \evpr, \evs)$ be a pointed event model.
$\evM_\evs$ is a finite tree event model if
\begin{itemize}
	\item $\evS$, the set of action points is finite
	\item $\evs$ is the root of the tree and is not accessible from any other action point
	\item for each $\evt \in \evS \setminus \{ \evs \}$ there is a unique agent $a \in A$ and a unique
	action $\evpr \in \evS$ such that $\aMod{(p,s)} \in \evR_a$
	\item for each $\evt \in \evS$ there exists a unique sequence of actions in $\evS$, $\evs = \evs_0,
	\evs_1, \ldots, \evs_n = \evt$ and a sequence of agents $a_1, a_2, \ldots, a_n$ such that $\evs_0
	\evR_{a_1}
	\evs_1$, $\evs_1 \evR_{a_2} \evs_2$, $\ldots, \evs_{n-1} \evR_{a_n} \evs_n$
\end{itemize}
\end{defn}

\begin{lemma} \label{insaneIsTree}
The event model class $\insaneClass$ is contained within the event model class
$\treeClass$, that is $\insaneClass \subseteq \treeClass$.
\end{lemma}

It is clear that by our earlier definitions, an insanity event model is also a finite forest event
model.

We say that the class of finite tree event models is $\treeClass$.

\begin{defn} \label{forest}
Let $\evM_\evT = (\evS, \evR, \evpr, \evT)$ be a multi-pointed event model.
$\evM_\evT$ is a finite forest event model if
\begin{itemize}
	\item each point $\evt$ in $\evT$ is the root of a finite tree event model $\evM^\evt =
	(\evS^\evt, \evR^\evt,
	\evpr^\evt, \evt)$
  \item $\evS = \bigcup_{\evt \in \evT} \evS^\evt$
	\item for each $\evs \in \evS^\evt$, $\evpr(\evs) = \evpr^\evt(\evs)$
	\item if $\evs, \evt \in \evT$ such that $\evs \neq \evt$, then $\evS^\evs$ and $\evS^\evt$ are disjoint
  \item for each $a \in A \Rightarrow \evR_a = \bigcup_{\evt \in \evT} \evR_a^\evt$
\end{itemize}
\end{defn}

We say that the class of finite forest event models is $\forestClass$.

\begin{lemma} \label{treeIsForest}
The event model class $\treeClass$ is contained within the event model class
$\forestClass$, that is $\treeClass \subseteq \forestClass$.
\end{lemma}

Again, it is clear that by our earlier definitions, a finite tree event model is also a finite forest event
model.

\begin{defn} \label{subtree}
Let $\evM_\evr = (\evS, \evR, \evpr, \evT)$ be a finite forest event model.
We say the pointed event model $\evM' = (\evS', \evR', \evpr', \evr')$ is a subtree of $\evM$ if
\begin{itemize}
	\item $\evS' \subseteq \evS$
	\item $\forall a \in A \Rightarrow \evR_a' \subseteq \evR_a$
	\item $\forall \evs \in \evS' \Rightarrow \evpr(\evs) = \evpr'(\evs) $
	\item $\evM'$ is $\evR$-generable
	\item $\evM'$ is a finite tree event model
\end{itemize}
\end{defn}

\begin{defn} \label{leaf}
Let $\evM_\evr = (\evS, \evR, \evpr, \evr)$ be a finite tree event model.
Let $\evM' = (\evS', \evR', \evpr', \evr')$ be a subtree of $\evM$.
$\evM'$ is a leaf node of $\evM$ if $\forall a \in A \Rightarrow \evR'_a = \varnothing$ and $\evS' = \{
\evr'\}$.
\end{defn}

In order to generate these models, we must construct an algebra that can construct event models.
However, we are unaware of any operations that are appropriate for building tree models.
We define an operation to describe a group of agents' belief with regards to the possible execution
of one event model instead of another.

\begin{defn} \label{considers}
Let $\evM^1$ and $\evM^2$ be multi-pointed event models, and without loss of
generality let $\evM^1$ and $\evM^2$ be disjoint.
Let $B$ be a subset of agents participating in $\evM^1$ and $\evM^2$.
We define $\evM = \evM^1 \to_B \evM^2$ as 
\begin{itemize}
  \item $\evS = \evS^1 \cup \evS^2$
  \item $\evR_a = \evR^1_a \cup \evR^2_a \text{if } a \notin B$
	\item $\evR_a =
      \evR^1_a \cup
      \evR^2_a \cup
      \{(\evs,\evt) | \evs \in \evT^1 \land \evt \in \evT^2 \}
    \text{if } a \in B $
  \item $\evpr = \evpr^1 \cup \evpr^2$
  \item $\evT = \evT^1$
\end{itemize}
The $\to$ operator will be referred to as ``considers".
\end{defn}

$\evM^1 \to_B \evM^2$ indicates that if $\evM^1$ was executed, an agent in $B$ considers $\evM^2$ as another
possible update.
In the case that $B = A$, we will denote this by $\to$, and if $B = \{a\}$, then
we will write $\to_a$.
We also present the disjoint union operator defined by Baltag and Moss in \cite{baltag2005programs}.

\begin{defn} \label{disjoint}
Let $\evM^1$ and $\evM^2$ be multi-pointed event models, and without loss of generality let $\evM^1$ and
$\evM^2$ be disjoint.
We define $\evM = \evM^1 \sqcup \evM^2$ as
\begin{itemize}
	\item $\evS = \evS^1 \cup \evS^2$
	\item $\evR_a = \evR^1_a \cup \evR^2_a$
	\item $\evpr = \evpr^1 \cup \evpr^2$
	\item $\evT = \evT^1 \cup \evT^2$
\end{itemize}
\end{defn}
This is the disjoint union of the two event models, which we can refer to as the agents in $A$
knowing that one of the two models has occurred.
Baltag and Moss call this a non-deterministic choice \cite{baltag2005programs}.

\begin{lemma} \label{disjForestIsForest}
Let $\evM^1_{\evT^1}, \evM^2_{\evT^2} \in \forestClass$ be two disjoint forest event models.
Then $\evM_\evT = \evM^1_{\evT^1} \sqcup \evM^2_{\evT^2} \in \forestClass$.
\end{lemma}

\begin{proof}
We must show each of the following
\begin{enumerate}
	\item each $\evt \in \evT$ corresponds to a finite tree event model $\evM^\evt \in \treeClass$ \label{treeCorrespondence}
	\item for each $\evM^\evt$, $\evS^\evt \subseteq \evS$ \label{forestStateSubsets}
	\item for each $\evM^\evt$, $\evR^\evt \subseteq \evR$ \label{forestEdgeSubsets}
	\item for each $\evM^\evt$, for each $\evs \in \evS^\evt$, $\evpr^t(s) = \evpr(s)$ \label{preconMatch}
	\item for each $\evs, \evt \in \evT$, $\evS^\evs$ and $\evS^\evt$ are disjoint \label{subtreeStatesDisjoint}
\end{enumerate}

We note that $\evT = \evT^1 \sqcup \evT^2$.
Thus $\evt \in \evT \Rightarrow (\evt \in \evT^1 \lor \evt \in \evT^2)$.
Since $\evM^1_{\evT^1}$ and $\evM^2_{\evT^2}$ are both finite forest event models then there must be some
subtree event model $\evM^\evt \in \treeClass$ that corresponds to $\evt$.
Without loss of generality, let $\evt \in \evT^1$.\\
\\
Furthermore, by the definition of $\sqcup$ (Definition \ref{disjoint}), for any $\evM^\evt$, $\evS^\evt \subseteq \evS^1 \subseteq \evS$.
Also, $\evR^\evt \subseteq \evR^1 \subseteq \evR$ and for all $s \in \evS^1 \Rightarrow \evpr^\evt(s) = \evpr^1(s) =
\evpr(s)$.
Finally, if $\evt, \evt' \in \evT$, each $\evM^\evt$ is disjoint from any other $\evM^{\evt'}$ since
\begin{itemize}
	\item $\evt' \in \evT^1 \Rightarrow$ that condition \ref{subtreeStatesDisjoint} previously held for
	$\evM^1_{\evT^1} \in \forestClass$ and thus $\evS^{\evt'}$ is disjoint $\evS^\evt$
	\item $\evt' \in \evT^2$ will ensure that $\evS^{\evt'}$ and $\evS^\evt$ are disjoint by the premise of
	the lemma
\end{itemize}
\end{proof}

A final miscellaneous result shown by Hales in \cite{hales13synthesis}, which we employ later, is reproduced here.

\begin{lemma} \label{brestrictDisjoint}
Suppose $\{ \evM^i_{\evT^i} = (\evS^i, \evR^i, \evpr^i, \evT^i) | i \in [1, n] \}$ is a finite set of $n$ event
models.
Furthermore, let each $\evM^i_{\evT^i} \in \eventClass_B$.
Then
\[
	\evM_\evT = \bigsqcup_{i = 1}^{n} \evM^i_{\evT^i} \in \eventClass_B
\]
\end{lemma}

\begin{proof}
We will inductively show that for $k$ event models
\[
	\bigsqcup_{i = 1}^k \evM^i_{\evT^i} \in \eventClass_B
\]
We begin with our base case, where $k = 1$.
This is trivially so by the definition of $\evM^1_{\evT^1}$.
\[
	\bigsqcup_{i = 1}^1 \evM^i_{\evT^i} = \evM^1_{\evT^1} \in \eventClass_B
\]
Now, suppose that our induction hypothesis holds for $k$ event models.
Let $\evM^K_{\evT^K} = \bigsqcup_{i = 1}^k \evM^i_{\evT^i} \in \eventClass_B$.
Then for $k+1$ event models, let
\begin{align*}
	\evM'_{\evT'} = & \bigsqcup_{i = 1}^{k+1} \evM^i_{\evT^i} \\
	= & \bigsqcup_{i = 1}^k \evM^i_{\evT^i} \sqcup \evM^{k+1}_{\evT^{k+1}} \\
	= & \evM^K_{\evT^K} \sqcup \evM^{k+1}_{\evT^{k+1}}
\end{align*}
We note that since $\evM'_{\evT'}$ is a disjoint union of event models, $\evM'_{\evT^i} \sim \evM^i_{\evT^i}$ is a
trivial bisimilarity.
Similarly, $\evM'_{\evT^K} \sim \evM^K_{\evT^K}$ is a trivial bisimilarity.\\
\\
Let $\gamma$ be either of $K$ or $k+1$, and suppose $\evs \in \evS^\gamma$.
Let $\krMo_s \in \kripkeClass$.
As $\evM^\gamma \in \eventClass_B$, then $\krMo_s \otimes \evM^\gamma_\evs \lesssim_B \krMo_s$.
We note that due to $\evM'$ being a disjoint union of event models, $\evM'_\evs \sim \evM^\gamma_\evs$.
Then from Lemma \ref{eventModelEquivalent} we have that $\krMo_s \otimes \evM^\gamma_\evs \sim N_s
\otimes \evM'_\evs$.
From Lemma \ref{bisimilarIsRefinement}, we have $\krMo_s \otimes \evM'_\evs \lesssim_B \krMo_s
\otimes \evMo^\gamma_s$.
From Lemma \ref{refinementPreorder}, $\lesssim_B$ is a transitive relation.
Then $\krMo_s \otimes \evM'_\evs \lesssim_B \krMo_s$.
Thus
\[
\evM'_{\evT'} = \bigsqcup_{i = 1}^{k+1} \evM^i_{\evT^i} \in \eventClass_B.
\]
\end{proof}

We can use the operations $\to$ (considers) and $\sqcup$ (choice) to construct finite tree and
forest event models, as we show in the next section.

\subsection{Completeness}

\begin{lemma} \label{finTreeConstruct}
Suppose $\evM = (\evS, \evR, \evpr, r)$ is a finite tree event model.
$\evM$ can be constructed using insanity event models and $\to$.
\end{lemma}
\begin{proof}
Let $\evM' = (\evS', \evR', \evpr', r')$ be a subtree of $\evM$.
We will show by induction that for any $\evM'$ we can use insanity event models and $\to$ to
construct $\evM'$.\\
\\
Suppose that $\evM' = (\evS', \evR', \evpr', r')$ is a leaf node.
Let $\evpr'(r') = \phi$, a formula in our logical language.
$\evM'$ is an insanity event model by definition.
Thus, we can construct $\evM'$ using insanity event models when $\evM'$ is a leaf node of $\evM$.\\
\\
Let $\evM' = (\evS', \evR', \evpr', r')$ be an arbitrary subtree of $\evM$.
Suppose $\evpr'(r') = \phi$, where $\phi$ is a formula in our logical language.
Let $\evM^1, \evM^2, \ldots, \evM^n$ be all the disjoint subtrees of $\evM'$.
Suppose that each of $\evM^1, \evM^2, \ldots, \evM^n$ fulfill the induction hypothesis.
Furthermore, let there be agents $a_1, a_2, \ldots, a_n$ such that $r' \evR_{a_1} r^1$, $r' \evR_{a_2} r^2,
	\ldots, r' \evR_{a_n} r^n$.\\
\\
Consider the $\evM^\evt = (\{ \evt \}, \evR^\evt, \evpr^\evt, \evt) \in \insaneClass$.
Let $\evpr^\evt(\evt) = \phi$.
Consider the event model 
\[
\evM^K = (\ldots((\evM^\evt \to_{a_1} \evM ^ 1) \to_{a_2} \evM_2) \to_{a_3} \ldots
\to_{a_{n-1}} \evM^{n-1} ) \to_{a_n} \evM ^ n
\]
We will show that $\evM^K$ and $\evM'$ are equivalent event models.\\
\\
Each of $\evM^1, \evM^2, \ldots, \evM^n$ are subtrees of $\evM'$.
The action points, accessibilities and preconditions in each of $\evM^1, \evM^2, \ldots, \evM^n$ are
equivalent to the action points and the accessibilities and preconditions of those points in $\evM'$.
We can see that by its definition the ``root" of $\evM^K$, $\evt$ has the same precondition as $r'$.
Furthermore, both $r'$ and $\evt$ can access each of $\evM^1, \evM^2, \ldots \evM^n$ by an $a_1, a_2, \ldots, a_n$ edge
respectively.\\
\\
Thus $\evM'$ and $\evM^K$ are equivalent.
We can form $\evM'$ using insanity event models and $\to$, and thus any arbitrary subtree of $\evM'$
fulfills the induction hypothesis.
\end{proof}

\begin{lemma} \label{forestCon}
Let $\evM = (\evS, \evR, \evpr, \evT)$ be a finite forest event model.
Then $\evM$ can be constructed using $\to$, $\sqcup$ and insanity event models.
\end{lemma}

\begin{proof}
Let $\evM^\evt = (\evS^\evt, \evR^\evt, \evpr^\evt, \evt) \in \treeClass$ be the
subtree of $\evM$ that corresponds to point $\evt \in \evT$ (Definition \ref{forest}).
By Lemma \ref{finTreeConstruct} we can generate from $\insaneClass$ and $\to$.
By Lemma \ref{treeIsForest} $\evM^\evt \in \forestClass$.
Then by a recursive and finite number of applications of Lemma
\ref{disjForestIsForest} we have that $\bigsqcup_{\evt \in \evT} \evM^\evt$ is a finite
forest event model.
\end{proof}

\begin{corr} \label{forestConCorr}
Let $\evM = (\evS, \evR, \evpr, \evT)$ be a finite forest event model, and for each $\evt \in \evT$ let $\evM^\evt \in
\treeClass$ be the subtree of $\evM$ corresponding to $\evt$.
Then $\evM = \bigsqcup_{\evt \in \evT} \evM^\evt$.
\end{corr}

\subsection{Achieving information goals}

%\FIXME: Needs to cite James

%\begin{lemma} \label{coverFormulaAchievementK}
%Let $B, C \subseteq A$ and
%\[
%\phi = \pi \land \bigwedge_{c \in C} \cover_c \Gamma_c \in \langArbAct
%\]
%where $\Gamma$ is a finite set.
%Suppose that for each $c \in C$, and for each $\gamma \in \Gamma_c$ there is an event model
%$M^\gamma_T \in \forestClass$ and $M^\gamma_T \in \eventClass_B$  such that
%$\vdash \sqex{M^\gamma_{T^\gamma}} \gamma$ and $\vdash \anex{ M^\gamma_{T^\gamma} } \gamma \iff
%\exists_B \gamma$.
%Then there exists a finite forest event model $M_T \in \forestClass$ and $M_T \in \eventClass_B$
%such that $\vdash \sqex{M_T}\phi$ and $\vdash \anex{ M_T } \phi \iff \exists_B \phi$.
%\end{lemma}
%
%\begin{proof}
%Let us say that $A$, a finite set of agents can be enumerated as $A = \{ a_1, a_2, \ldots, a_n\}$
%and that the set $A \setminus C = \{d_1, d_2, \ldots, d_k\}$.
%For each $a \in A$, if $a \in C$,
%\[
%	M^a_{T^a} = \bigsqcup_{\gamma \in \Gamma_a} M^\gamma_{T^\gamma}
%\]
%By Lemma \ref{disjForestIsForest} $M_c \in \forestClass$.
%Furthermore, by Lemma \ref{brestrictDisjoint}, $M_c \in \eventClass_B$.\\
%\\
%If $a \notin C$ then let (\FIXME plz)
%\[
%	M^a_{T^a} = (\{s\}, \varnothing, \{(s, \top)\}, \{s\}) \in \insaneClass.
%\]
%Consider the insanity model $M'_s \in \insaneClass$ such that $\evpr(s) =
%\exists_B \phi$.
%Let
%\[
%M_T = ((\ldots((M'_s \to_{a_1} M^{a_1}_{T^{a_1}}) \to_{a_2} M^{c_2}_{T^{a_2}}) \to_{a_3} \ldots )
%		\to_{a_n} M^{a_n}_{T^{a_n}}).
%\]
%Our proof is decomposed into four parts.
%Firstly, we show that $M_T \in \treeClass$ and therefore implicitly $M_T \in \forestClass$.
%model.
%Secondly, we show that $\vdash \sqex{M_T} \phi$.
%Thirdly, we show $\vdash \anex{ M_T } \phi \iff \exists_B \phi$.
%Lastly, we show that $M_T \in \eventClass_B$.\\
%\\
%According to Definition \ref{finTree} $M_T = (S, R, \evpr, T)$ is a finite tree event model if
%and only if the following four conditions must hold:
%\begin{enumerate}
%	\item $S$ is finite \label{treeConFinite}
%	\item $T = \{s\}$, where $R s = \varnothing$ \label{treeConRoot}
%	\item for each $s \in S \setminus T$ there is only one $a \in A$ and only one $p \in S$
%	such that $p R_a s$ \label{treeConOneAgent}
%	\item for each $s \in S$ there is a unique finite sequence of points in $S$, $s =
%	s_0, s_1, s_2, \ldots, s_k = s$ and a sequence of agents $a_1, a_2, \ldots, a_k$ such that $s_0
%	R_{a_1} s_1, s_1 R_{a_2} s_2, \ldots, a_{k-1} R_k
%	a_k$ \label{treeConUniquePath}
%\end{enumerate}
%
%We note that condition \ref{treeConFinite} is satisfied by the definition of $M_T$ as
%\[
%  S = \{s\} \bigcup_{a \in A} (\bigcup_{\gamma \in \Gamma}
%      S^{\gamma})
%\]
%where $\Gamma$ is a finite set and each $S^\gamma$ is finite.
%Therefore, $S$ itself must also be finite.\\
%\\
%Condition \ref{treeConRoot} is satisfied by the definition of $M_T$ and the definition of $\to$
%(Definition \ref{considers}).
%$\to$ only adds relations to $s R$, and $R s$ begins as $\varnothing$.
%Thus $s$ is not accessible from any other points.\\
%\\
%We next show \ref{treeConOneAgent} is satisfied.
%To do so we much show that for each $s$ in $S \setminus T = S \setminus \{ s \}$, there
%is a unique $p \in S$ and $a \in A$ such that $p R_a s$.
%Suppose that there is some $a \in A$ such that $s \in S^a$.
%If $s \in T^a$, then $R_a s = \{ s \}$ by the definition of $M_T$.
%Otherwise, by the definition of $M^a$, any $s \notin T^a$ is in some subforest of $M^a$
%and therefore there is a unique $p \in S^a$ and a unique agent $a' \in A$ such that $p R_{a'}
%s$.\\
%\\
%Lastly, we show that \ref{treeConUniquePath} holds.
%Suppose $s = s$; the sequence of action points is of length 0 and thus no agents are involved.
%Now, suppose $s \in S \setminus \{ s \}$.
%Then for some $a \in A$ we have $s \in S^a$.
%Then for some $s' \in T^a$ there is a unique sequence of agents $a_1, a_2, \ldots, a_n$ and action
%points $s' = s_0, s_1, s_2, \ldots, s_n = s$ such that $s_i R_{a_{i+1}} s_{i+1}$ for any $0 \leq i
%\leq n-1$.
%Furthermore, $s R_a s'$ by the definition of $M_T$, so we can combine the previous statement
%with $s R_a s'$ to say that there is a unique sequence of agents and points from $s$ to
%$s$.
%Thus, $M_T \in \treeClass \Rightarrow M_T \in \forestClass$ by Lemma \ref{treeIsForest}.\\
%\\
%Next, we shall show that $\vdash \sqex{M_T} \phi$.
%We will show that each of the following holds
%\begin{enumerate}
%	\item $\vdash \sqex{M_T} \pi$
%	\item $\vdash \sqex{M_T} \Box_c \bigwedge_{\gamma \in \Gamma_c} \gamma$ for every $c \in C$
%	\item $\vdash \sqex{M_T} \bigvee_{\gamma \in \Gamma_c} \Diamond_c \gamma$ for every $c \in C$
%\end{enumerate}
%
%Firstly we show $\vdash \sqex{M_T} \pi$.
%\begin{align}
%	& \vdash \phi \Rightarrow \pi \label{cfa_c1_1} \\
%	& \vdash \neg \pi \Rightarrow \neg \phi \label{cfa_c1_2}\\
%	& \vdash \forall (\neg \pi \Rightarrow \neg \phi) \label{cfa_c1_3}\\
%	& \vdash \forall \neg \pi \Rightarrow \forall \neg \phi \label{cfa_c1_4}\\
%	& \vdash \neg \forall \neg \phi \Rightarrow \neg \forall \neg \pi \label{cfa_c1_5}\\
%	& \vdash \exists \phi \Rightarrow \exists_B \pi \label{cfa_c1_6}\\
%	& \vdash \evpr(s) \Rightarrow \pi \label{cfa_c1_7}\\
%	& \vdash \sqex{M_s} \pi \label{cfa_c1_8}
%\end{align}
%(\ref{cfa_c1_3}) follows from \axNecR, (\ref{cfa_c1_4}) follows from \axR, (\ref{cfa_c1_6}) follows from
%$\exists$, (\ref{cfa_c1_7}) follows from the definition of $M$ (as $\evpr(s) = \exists \phi$) and
%(\ref{cfa_c1_8}) follows from \axAP.\\
%\\
%Now we suppose $c \in C$ and show $\vdash \sqex{M_T} \Box_c \bigwedge_{\gamma \in \Gamma} \gamma$.
%\begin{align}
%	& \vdash \sqex{M^{\gamma}_{T^{\gamma}}} \gamma \text{ for every }\gamma \in \Gamma^c
%	\label{cfa_c2_1} \\
%	& \vdash \bigwedge_{v \in T^\gamma} \sqex{M^\gamma_v} \gamma \text{ for every }\gamma \in \Gamma^c \label{cfa_c2_2} \\
%	& \vdash \Box \bigwedge_{v \in T^\gamma} \sqex{M^\gamma_v} \gamma \text{ for every } \gamma \in
%	\Gamma^c\label{cfa_c2_3} \\
%	& \vdash \bigwedge_{v \in T^\gamma} \Box_c \sqex{M^\gamma_v} \gamma \text{ for every } \gamma \in
%	\Gamma^c\label{cfa_c2_4} \\
%	& \vdash \bigwedge_{\gamma \in \Gamma^c} \bigwedge_{v \in T^\gamma} \Box_c \sqex{M^\gamma_v} \gamma\label{cfa_c2_5} \\
%	& \vdash \bigwedge_{\gamma \in \Gamma^c} \bigwedge_{v \in T^\gamma} \Box_c \sqex{M^\gamma_v}
%	\bigvee_{\gamma' \in \Gamma^c} \gamma'\label{cfa_c2_6} \\
%	& \vdash \bigwedge_{v \in s R} \Box_c \sqex{M_v}\bigvee_{\gamma' \in \Gamma^c} \gamma'\label{cfa_c2_7} \\
%	& \vdash \evpr(s) \Rightarrow \bigwedge_{v \in s R} \Box \sqex{M_v} \bigvee_{\gamma' \in
%		\Gamma^c} \gamma'\label{cfa_c2_8} \\
%	& \vdash \sqex{M_s} \Box_c \bigvee_{\gamma' \in \Gamma^c} \gamma'\label{cfa_c2_9} 
%\end{align}
%(\ref{cfa_c2_1}) follows from our hypothesis, (\ref{cfa_c2_2}) follows from \axAU, and (\ref{cfa_c2_8})
%	follows from \axAK.\\
%\\
%Finally, let $c \in C$. We then show $\vdash \sqex{M_s}\bigwedge_{\gamma \in \Gamma^c}
%\Diamond_c \gamma$.\\
%\\
%Suppose that $c \in B$.
%Then
%\begin{align}
%	& \vdash \exists_B \phi \Rightarrow \exists_B \cover_c \Gamma_c \label{cfa_c3_1a}\\
%	& \vdash \exists_B \phi \Rightarrow \bigwedge_{\gamma \in \Gamma} \Diamond \exists_B
%	\gamma\label{cfa_c3_2a}
%\end{align}
%(\ref{cfa_c3_1a}) follows from similiar reasoning for (\ref{cfa_c1_1} - \ref{cfa_c1_6}) and
%(\ref{cfa_c3_2a}) follows from \axRK.\\
%\\
%Now suppose $c \notin B$.
%Then
%\begin{align}
%	& \vdash \exists_B \phi \Rightarrow \exists_B \cover_c \Gamma_c \label{cfa_c3_1b}\\
%	& \vdash \exists_B \phi \Rightarrow \cover_c \{\exists_B \gamma | \gamma \in \Gamma_c \}a
%	\label{cfa_c3_2b}\\
%	& \vdash \exists_B \phi \Rightarrow \bigwedge_{\gamma \in \Gamma} \Diamond_c \exists_B \gamma
%	\label{cfa_c3_3b}
%\end{align}
%(\ref{cfa_c3_1b}) follows from similiar reasoning for (\ref{cfa_c1_1} - \ref{cfa_c1_6}).
%(\ref{cfa_c3_2b}) follows from \axRComm.
%(\ref{cfa_c3_3b}) follows from the definition of the cover operator (Definition \ref{coverDef}).\\
%\\
%Thus for any $c \in C$ we have that $\vdash \exists_B \phi \Rightarrow \bigwedge_{\gamma \in \Gamma}
%\Diamond_c \exists_B \gamma$.
%Then for any $c \in C$
%\begin{align}
%	& \vdash \exists_B \phi \Rightarrow \bigwedge_{\gamma \in \Gamma} \Diamond_c \anex{
%	M^\gamma_{T^{\gamma}} } \gamma\label{cfa_c3_3}\\
%	& \vdash \exists_B \phi \Rightarrow \bigwedge_{\gamma \in \Gamma} \Diamond_c \anex{
%	\bigvee_{v \in T^\gamma} M^\gamma_{v} } \gamma\label{cfa_c3_4}\\
%	& \vdash \exists_B \phi \Rightarrow \bigwedge_{\gamma \in \Gamma} \Diamond_c \anex{
%	\bigvee_{v \in s R} M^\gamma_{v} } \gamma\label{cfa_c3_5}\\
%	& \vdash \bigwedge_{\gamma \in \Gamma} (\exists_B \phi \Rightarrow \bigvee_{v \in s R_c}
%	\Diamond_c \anex{ M^\gamma_{v} } \gamma)\label{cfa_c3_6}\\
%	& \vdash \bigwedge_{\gamma \in \Gamma} (\exists_B \phi \Rightarrow \anex{ M^\gamma_{s}
%	} \Diamond_c \gamma)\label{cfa_c3_7}\\
%	& \vdash \bigwedge_{\gamma \in \Gamma} ([M^\gamma_{s}] \Diamond_c \gamma)\label{cfa_c3_8}
%\end{align}
%We have (\ref{cfa_c3_3}) follows from (\ref{cfa_c3_3b}) and (\ref{cfa_c3_2a}).
%Then (\ref{cfa_c3_4}) follows from hypothesis, (\ref{cfa_c3_5}) from \axAU, (\ref{cfa_c3_6}) and
%(\ref{cfa_c3_7}) from the definition of $M$ and (\ref{cfa_c3_8}) from \axAK.\\
%\\
%Together, we combine our result to show
%\begin{align}
%	& \vdash \sqex{M_s} (\pi \land \bigwedge_{c \in C} \left( \sqex{M_s} \Box_c \bigvee_{\gamma \in
%		\Gamma^c} \gamma \land
%	\bigwedge_{\gamma \in \Gamma^c} \sqex{M_s} \Diamond_c \gamma \right) \label{cfa_cc_1} \\
%	& \vdash \sqex{M_s}(\pi \land \bigwedge_{c \in C} \cover_c \Gamma_c) \label{cfa_cc_2}
%\end{align}
%(\ref{cfa_cc_1}) follows from (\ref{cfa_c1_8}), (\ref{cfa_c2_7}) and (\ref{cfa_c3_8}) and
%(\ref{cfa_cc_2}) follows from \axAC.\\
%\\
%Next, we show that $\vdash \anex{ M_T } \phi \iff \exists \phi$.
%\begin{align}
%	& \vdash \anex{ M_s } \phi \iff (\evpr(s) \land [ M_s ] \phi \label{cfa_cc1_1}\\
%	& \vdash \anex{ M_s } \phi \iff \evpr(s) \label{cfa_cc1_2}\\
%	& \vdash \anex{ M_s } \phi \iff \exists \phi\label{cfa_cc1_3}
%\end{align}
%(\ref{cfa_cc1_1}) follows from a simple semantic argument, (\ref{cfa_cc1_2}) follows from
%(\ref{cfa_cc_2}) and (\ref{cfa_cc1_3}) follows from the definition of $M$.\\
%\\
%Lastly, we show that $M_s \in \eventClass_B$.
%\end{proof}
%
%\begin{lemma} \label{disjunctionFormulaAchievementK}
%Let $\phi = \alpha \lor \beta \in \langArbAct$ and $B \subseteq A$.
%Suppose that for $\gamma \in \{\alpha, \beta\}$ there is a finite forest event model
%$M^\gamma_{T^\gamma} \in \forestClass$ and $M^\gamma_{T^\gamma} \in \eventClass_B$ such that
%$\vdash \sqex{M^\gamma_{T^\gamma}} \gamma$
%and $\vdash \anex{ M^\gamma_{T^\gamma} } \gamma \iff \exists \gamma$.
%Then there exists a finite forest event model $M_T \in \forestClass$ and $M_T \in \eventClass_B$
%such that $\vdash \sqex{M_T}\phi$ and $\vdash \anex{ M_T } \phi \iff \exists_B \phi$.
%\end{lemma}
%
%\begin{proof}
%Let $M_T = M^\alpha_{T^\alpha} \sqcup M^\beta_{T\beta}$.
%We will show three things.
%Firstly, that $M_T$ is a finite forest event model.
%Secondly, that $\vdash \sqex{M_T}\phi$.
%Lastly, we show $\vdash \anex{ M_T } \phi \iff \exists \phi$.
%We assume, without loss of generality, that $S^\alpha$ and $S^\beta$ are disjoint.\\
%\\
%To show that $M_T$ is a finite forest event model, we observe that $M_T$ is a disjoint union of two
%finite forest event models who are both disjoint.
%Then by Lemma \ref{disjForestIsForest} $M_T$ is a finite forest event model.
%Note that each action point in $M_T$ is bisimilar to a corresponding point in $M^\alpha_{T^\alpha}$ or
%$M^\beta_{T^\beta}$.\\
%\\
%Next, we show that $\vdash \sqex{M_T}\phi$.
%\begin{align}
%	&\vdash \sqex{M^\alpha_{T^\alpha}}\alpha \land \sqex{M^\beta_{T^\beta}}\beta \label{djfa_c1_1}\\
%	&\vdash \sqex{M_{T^\alpha}}\alpha \land \sqex{M_{T^\beta}}\beta \label{djfa_c1_2}\\
%	&\vdash \sqex{M_{T^\alpha}}(\alpha \lor \beta) \land \sqex{M_{T^\beta}}(\alpha \lor \beta) \label{djfa_c1_3} \\
%	&\vdash \sqex{M_T}(\alpha \lor \beta) \label{djfa_c1_4}
%\end{align}
%(\ref{djfa_c1_1}) follows from our hypothesis, (\ref{djfa_c1_2}) follows from Lemma \ref{eventModelEquivalent} and the fact that
%$M_{T^\alpha} \sim M^\alpha_{T^\alpha}$ and $M_{T^\beta} \sim M^\beta{T^\beta}$.
%(\ref{djfa_c1_3}) is a simple introduction of disjunctions and (\ref{djfa_c1_4}) follows from \axAU, as
%$T = T^\alpha \cup T^\beta$.\\
%\\
%Now we show that $M_T$ is a $B$-restricted event model.
%Since $M^\alpha, M^\beta \in \eventClass_B$, by Lemma \ref{brestrictDisjoint} $M_T \in
%\eventClass_B$.\\
%\\
%Finally, we show that $\anex{M_T} \iff \exists \phi$.
%\begin{align}
%	&\vdash \exists (\alpha \lor \beta) \Rightarrow (\exists \alpha \lor \exists \beta) \label{djfa_c2_1} \\
%	&\vdash \exists (\alpha \lor \beta) \Rightarrow (\anex{ M^\alpha_{T^\alpha} } \alpha \lor
%			\anex{ M^\beta_{T^\beta} }\beta) \label{djfa_c2_2}\\
%	&\vdash \exists (\alpha \lor \beta) \Rightarrow (\anex{M_{T^\alpha}} \alpha \lor \anex{M_{T^\beta}}
%			\beta)\label{djfa_c2_3}\\
%	&\vdash \exists (\alpha \lor \beta) \Rightarrow (\anex{M_{T^\alpha}} (\alpha \lor \beta) \lor \anex{M_{T^\beta}}
%			(\alpha \lor \beta))\label{djfa_c2_4}\\
%	&\vdash \exists (\alpha \lor \beta) \Rightarrow (\anex{M_T} (\alpha \lor \beta))\label{djfa_c2_5}
%\end{align}
%(\ref{djfa_c2_1}) follows from \axR, (\ref{djfa_c2_2}) follows from hypothesis and
%(\ref{djfa_c2_3}) follows from Lemma \ref{eventModelEquivalent} and $M_{T^\alpha} \sim M^\alpha_{T^\alpha}$ and $M_{T^\beta}
%\sim M^\beta_{T^\beta}$.
%(\ref{djfa_c2_4}) is a simple disjunction introduction, and (\ref{djfa_c2_5}) follows from \axAU.\\
%\\
%The converse, $\vdash \anex{M_T} \phi \Rightarrow \exists \phi$ follows from a semantic
%argument, from $M_T \in \eventClass_B$, from Lemma \ref{eventModelsRefine} and the completeness of \AXAAML.\\
%\end{proof}
%
%\begin{thm} \label{goalAchievementK}
%Let $\phi \in \langArbAct$ be a finite formula.
%Then there exists a finite forest event model $M_T \in \eventClass$ such that
%$\vdash \sqex{M_T}\phi$ and $\vdash \anex{ M_T } \phi \iff \exists \phi$.
%\end{thm}
%
%\begin{proof}
%Without loss of generality from Lemma {\FIXME} we may assume that $\phi \in \lang$, and from Lemma
%\ref{allInCoverNormal} we may further assume that $\phi$ is in cover disjunctive normal form.
%We proceed with an inductive case on the structure of $\phi$.\\
%\\
%Suppose that $\phi = \pi \land \cover \Gamma$ where $\pi \in \langProp$ and $\Gamma \subseteq \lang$
%is a finite set of formulae.
%From the induction hypothesis, for every $\gamma \in \Gamma$ there exists a finite forest event
%model $N^\gamma_{T^\gamma} \in \eventClass$ such that $\vdash \sqex{N^\gamma_{T^\gamma}} \gamma$ and
%$\vdash \anex{N^\gamma_{T^\gamma}} \gamma \iff \exists \gamma$.
%Then from Lemma \ref{coverFormulaAchievementK} there exists a finite forest event model $M_T$ such
%that $\vdash \sqex{M_T} \phi$ and $\vdash \anex{M_T} \phi \iff \exists \phi$.
%We note that the base case for the induction occurs when $\Gamma = \varnothing$ and thus $\phi =
%\pi$.\\
%\\
%Suppose that $\phi = \alpha \lor \beta$.
%Then from the induction hypothesis there exists finite forest event models $N^\alpha_{T^\alpha}$ and
%$N^\beta_{T^\beta} \in \eventClass$ such that for $\gamma \in \{\alpha, \beta\}:
%\vdash \sqex{N^\gamma_{T^\gamma}} \gamma \land \vdash \anex{N^\gamma_{T^\gamma}} \iff \exists
%\gamma$.
%Then from Lemma \ref{disjunctionFormulaAchievementK} there exists a finite forest event model $M_T$ such
%that $\vdash \sqex{M_T}$ and $\vdash \anex{M_T} \phi \iff \exists \phi$.
%\end{proof}

\begin{thm} \label{approximatingEventModel}
Let $\evM_\evT \in \eventClass$.
Then there is some $\evM'_{\evT'} \in \forestClass$ such that $\evM_\evT \sim_n \evM'_{\evT'}$.
\end{thm}

\begin{proof}
Without loss of generality, for each pair $\evt, \evt' \in \evT$, we say that they are
$n$-disjoint.
That is there is no sequence of $n$ action points $\evt = \evs_1, \evs_2, \ldots,
\evs_n = \evt'$ and agents $a_1, a_2, \ldots, a_{n-1}$ such that $\evs_1 \evR_{a_1} \evs_2,
    \ldots, \evs_{n-1} \evR_{a_{n-1}} \evs_n$.
We will show inductively that for any $n$, the following two conditions hold
\begin{itemize}
\item there is a forest event model $\evM'_{\evT'} \in \forestClass$ such that $\evM'_{\evT'} \sim_n \evM_\evT$
\item for each $\evt \in \evT$, there is a $\evt' \in \evT'$ and subtree of $\evM'_{\evT'}$, $\evM^{\evt'}_{\evt'}$ such that
$\evM'_{\evt'} \sim_n \evM_\evt$
\end{itemize}
Suppose $n = 0$ as our base case.
Let $\evt \in \evT$, and consider the insanity model $\evM'_{\evt} \in \insaneClass$ such that $\evpr'(\evt) \iff
\evpr(\evt)$.
By Lemma \ref{insaneIsTree} $\evM'_{\evt} \in \treeClass$ and therefore by Lemma \ref{treeIsForest}
$\evM'_{\evt} \in \forestClass$ also holds.
By the definition of $n$-bisimilarity (Definition \ref{nBisimEvent}), $\evM'_{\evt}
\sim_0 \evM_\evt$.
Now, let
\[
  \evM'_{\evT'} = \bigsqcup_{\evt' \in \evT} \evM'_{\evt} \in \forestClass
\]
By Lemma \ref{disjForestIsForest}, $\evM'_{\evT'} \in \forestClass$.
Furthermore, it is clear that each point $\evt \in \evT$ corresponds to some $\evt' \in \evT'$ such that $\evM_\evt
\sim_0 \evM'_{\evt'}$.
Lastly, since $\evM'_{\evT'}$ is the disjoint union of multiple finite tree event models, for $\evt, \evt' \in
\evT'$ we have that $\evS_\evt$ and $\evS_{\evt'}$ are disjoint.
Thus our induction hypothesis holds for $n = 0$.\\
\\
Now, suppose that the induction hypothesis holds for $n = k-1$ and let $n = k$.
Let $\evs \in \evT$ and $a \in A$.
By the induction hypothesis, for each $\evt \in \evs \evR_a$, we can construct $\evM^\evt_\evt \in \treeClass$ such that
$\evM^\evt_\evt \sim_{k-1} \evM_\evt$.
Consider $\evM^\evs_\evs \in \insaneClass \subseteq \forestClass$ such that $\evpr'(\evs) \iff
\evpr(\evs)$.
By the definition of $n$-bisimilarity (Definition \ref{nBisimEvent}), $\evM'_{\evs}
\sim_0 \evM_\evs$.\\
\\
Then, let
\[
  \evM'_{\evT'} = \bigsqcup_{\evs \in \evT} \evM^\evs_\evs \to_a (\bigsqcup_{\evt \in \evs \evR_a} \evM^\evt_{\evt})
\]
Our proof is decomposed into three parts.
First we show that $\evM'_{\evT'} \in \forestClass$.
Secondly, we show that for $\evt \in \evT$ there is a $\evt' \in \evT'$ such that the subtree $\evM^{\evt'}_{\evt'}$ of
$\evM'_{\evT'}$ such that $\evM^{\evt'}_{\evt'} \sim_n \evM_\evt$.
Lastly we show that $\evM'_{\evT'} \sim_k \evM_\evT$.\\
\\
To show that $\evM'_{\evT'} \in \forestClass$, the following four conditions must hold
\begin{enumerate}
	\item each point $\evt \in \evT'$ is the root of a finite tree event model $\evM^\evt_\evt = (\evS^\evt, \evR^\evt, \evpr^\evt, \evt)$ \label{forestConOne}
  \item $\evS' = \bigcup_{\evt \in \evT'} \evS^\evt$ \label{forestConTwo}
  \item for each $a \in A \Rightarrow \evR'_a = \bigcup_{\evt \in \evT'} \evR^\evt_a$ \label{forestConFive}
	\item for each $\evs \in \evS^\evt$, $\evpr'(\evs) = \evpr^\evt(\evs)$ \label{forestConThree}
	\item if $\evs, \evt \in \evT'$ such that $\evs \neq \evt$, then $\evS^\evs$ and $\evS^\evt$ are disjoint
	\label{forestConFour}
\end{enumerate}

To show that \ref{forestConOne} holds, suppose $\evt \in \evT'$.
We must show that $\evM'_\evt \in \treeClass$.
We observe that $\evS'$, the set of action points is finite, since it is the finite union of a set
of finite forest event models which in turn have finite sets of points. This follows from the
definition of $\evM'_{\evT'}$.\\
\\
Next, $\evt$ is the root of the tree and is not accessible from any other action point, which follows
from the definition of $\evM'_{\evT'}$ being a disjoint union of multiple models, and relations only
being added to $\evt \evR_a$ and none added to $\evR_a \evt$ for any $a \in A$.\\
\\
Suppose $\evs \in \evS' \setminus \{ \evt \}$.
Then there is an agent $a \in A$ and $\evs' \in \evt \evR'_a$ such that $\evs$ is an action point in
$\evS^{\evs'}_{\evs'}$, the set of action points for the subtree $\evM^{\evs'}_{\evs'}$ of $\evM'_\evt$ with its root at
$\evs'$.\\
\\
Suppose $\evs = \evs'$.
Then the $\evR'_a \evs = \{ \evt \}$, and for any other $a'$, $\evR'_{a'} \evs = \varnothing$.\\
\\
Suppose $\evs \neq \evs'$.
Since $\evM^{\evs'}_{\evs'} \in \treeClass$ by the definition of a finite tree event model (Definition \ref{finTree}) we have that there is some
$p \in \evS^{\evs'}$ and $a' \in A$ such that $p \evR'_{a'} \evs$.\\
\\
Finally let $\evs \in \evS'_\evt$.
We must show that there is a finite sequence of action points $\evt = \evs_0, \evs_1, \evs_2, \ldots, \evs_n = \evs
\in \evS'_\evt$ and agents $a_1, a_2, \ldots, a_n \in A$ such that $\evs_0 \evR_{a_1} \evs_1, \ldots, \evs_{n-1}
\evR_{a_n} \evs_n$.
If $\evs = \evt$ then there is a sequence of length 0 of such points.
Suppose $\evs \neq \evt$.
If so then there is some agent $a \in A$ and $\evs' \in \evt \evR'_a$ such that $\evs \in \evS^{\evs'}_{\evs'}$, the set
of action points for the subtree $\evM^{\evs'}_{\evs'}$ of $\evM'_\evt$ with its root at $\evs'$.\\
\\
Since $\evM^{\evs'}_{\evs'} \in \treeClass$ by the definition of a finite tree event model (Definition
\ref{finTree}) we have that there is some sequence of action points $\evs' = \evs_0, \evs_1, \evs_2, \ldots, \evs_n =
\evs \in \evS^{\evs'}_\evt$ and agents $a_1, a_2, \ldots, a_n \in A$ such that $\evs_0 \evR'_{a_1} \evs_1, \ldots,
\evs_{n-1} \evR'_{a_n} \evs_n$.
We already have shown that $\evR'_a \evs' = \{ \evt \}$.
Then there is a sequence $\evt \evR'_a \evs', \evs_0 \evR'_{a_1} \evs_1, \ldots, \evs_{n-1} \evR'_{a_n} \evs_n$.
Thus $\evM'_\evt \in \treeClass$ from Definition \ref{finTree} and as a result \ref{forestConOne} holds.\\
\\
Conditions \ref{forestConTwo}, \ref{forestConFive} and \ref{forestConThree} hold from the definition
of $\to$ (Definition \ref{considers}).
What remains is to show that \ref{forestConFour} holds.
Suppose that $\evs, \evt \in \evT'$ and $\evs \neq \evt$.
From hypothesis $\evS^\evs_\evs$ and $\evS^\evt_\evt$ are disjoint trees.
From the definition of $\to$ (Definition \ref{considers}) each of $\evS^\evs_\evs$ and $\evS^\evt_\evt$
remain disjoint.\\
\\
Next, we show that if $\evt \in \evT$ there is some $\evs \in \evT'$ and some subtree of $\evM'_{\evT'}$, $\evM^{\evs}_{\evs}$
such that $\evM^\evs_\evs \sim_k \evM_\evt$.
From the definition of $\evM'_{\evT'}$, there is a subtree of $\evM^\evs_\evs$, where $\evM^\evs_\evs \sim_0 \evM_\evt$.
Furthermore, by our induction hypothesis for each $a \in A$ and $\evt' \in \evt \evR_a$, there is an $a' \in
A$ and $\evs' \in \evs \evR_{a'}$ such that the subtree $\evM^{\evs'}_{\evs'}$ of $\evM^\evs_\evs$ is $k-1$-bisimilar to
$\evM_{\evt'}$.
This allows us to satisfy {\bf $k$-forth-$a$} and {\bf $k$-back-$a$} for every $a \in A$.
We now only need show that $\evM^\evs_\evs \sim_{k-1} \evM'_\evs$.
It is clear from a simple inductive argument that this holds, by virtue of each $\evM^{\evs'}_{\evs'}$ being
$k-2$-bisimilar to $\evM_{\evt'}$ (Definition \ref{nBisimEvent}).
Then $\evM^\evs_\evs \sim_k \evM_\evt$, where $\evs \in \evT'$ and $\evM^\evs_\evs$ a subtree of $\evM_{\evT'}$.\\
\\
Lastly, we show that $\evM'_{\evT'} \sim_k \evM_\evT$.
We have shown that for each $\evt \in \evT$, there is a $\evt' \in \evT'$ such that the subtree $\evM^{\evt'}_{\evt'}
\sim_k \evM_\evt$.
We observe from the definition of $\evM'_{\evT'}$ that it is the disjoint union of models subtrees that
are $k$-bisimilar to a model in $\evT$.
That is, any $\evt' \in \evT'$ is the root of a subtree $\evM^{\evt'}_{\evt'}$ of $\evM'_{\evT'}$ that is $k$-bisimilar
to $\evM_\evt$, for $\evt \in \evT$.
It is clear that as the finite disjoint union of $k$-bisimilar models, $\evM'_{\evT'}$ is itself $k$-bisimilar
to $\evM_\evT$.
Thus we have $\evM_\evT \sim_k \evM'_{\evT'}$ and our induction hypothesis holds for $n = k$.
\end{proof}

\begin{corr} \label{approximatingBRestricted}
Let $\phi \in \langArbAct$ and $B \subseteq A$.
Then there is some $\evM_\evT \in \forestClass$ such that $\vdash \sqex{\evM_\evT} \phi$ and
$\vdash \anex{\evM_\evT} \phi \iff \exists_B \phi$ is valid.
\end{corr}

\begin{proof}
Suppose $\phi \in \langArbAct$ and $MD(\phi) = n$.
By Lemma \ref{allInCoverNormal} there is a translation of $\phi$ from $\langArbAct$ to $\lang$.
Furthermore, Lemma \ref{allInCoverNormal} allows us to translate it into cover disjunctive normal form.
From \cite{hales13synthesis}, Hales synthesises an event model $\evM'_{\evT'}$ such that $\sqex{\evM_\evT} \phi$ and $\anex{\evM_\evT}
\phi \iff \exists_B \phi$.\\
\\
We construct $\evM_\evT \in \forestClass$ such that $\evM_\evT \sim_n \evM'_{\evT'}$.
Since $MD(\phi) \leq n$ and $\evM_\evT \sim_n \evM'_{\evT'}$ we have by \ref{nBisimilarEventExec} that any
formula $\phi \in \lang$ can be achieved by $\evM_\evT$ such that $\sqex{\evM_\evT} \phi$ and $\anex{\evM_\evT} \phi
\iff \exists_B \phi$.
\end{proof}

\subsection{Comparison to sequent calculi for epistemic planning --- fixed by 3 September 2013}

So far, we have been particularly interested in constructing event models.
We have shown that we can approximate event models according to what
postconditions are true.
This was through the construction of a particular event model that fulfilled
the postconditions that we aimed to fulfill.\\
\\
This approach is powerful in the sense that we are guaranteed to construct an event model
that, given any Kripke model, will either ensure that a postcondition
is realised or destroy the Kripke model as a result of its execution.
It allows us to ensure the realisation of a postcondition, without giving
regard to the preceding Kripke model.\\
\\
A weakness of this approach is that we tie our realisation of a postcondition to a specific model.
Whether our model is the smallest model, or the model of minimal change is another matter entirely.
Thus, we can guarantee that a postcondition is realised after our model
execution but we cannot say much about the size or after-effects of the
execution of our model.\\
\\
For example, suppose $\phi$ is a formula that we want to achieve for a group of agents $B \subseteq
A$.
Let $p \in \langProp$ and let $\phi = p \land \Box p \land \Box^2 p \land \ldots \Box^n p$.
Applying Corollary \ref{approximatingBRestricted}, we obtain model $\evM^1_{\evs_0}$, such that
$\sqex{\evM^1_{\evs_0}}\phi$
and $\anex{\evM^1_{\evs_0}}\phi \iff \exists_B \phi$.
Let $\evM^2_\evs \in \publicAnnClass$ be the public announcement of $p$.
We also have that $\sqex{\evM^2_\evs} \phi$ and $\anex{\evM^2_\evs} \phi \iff \exists_B \phi$.

\begin{figure}[ht!]
	\centering
	\begin{subfigure}[b]{.45\textwidth}
	\centering
	\begin{tikzpicture}[-,>=stealth',shorten >=1pt,auto,node distance=2cm,
				thick]

			\node[vertex] (1) {$\evs_0$};
			\node[vertex] (2) [right of=1] {$\evs_1$};
			\node[vertex] (3) [right of=2] {$\evs_{n-2}$};
			\node[vertex] (4) [right of=3] {$\evs_{n-1}$};
			\path[edge]
						(1) edge node {$A$} (2)
						(3) edge node {$A$} (4);
      \draw[loosely dotted] (2) -- (3);
	\end{tikzpicture}
	\caption{$\evM^1_{\evs_0}$, the model we would have generated using Corollary
    \ref{approximatingBRestricted}. Here, $\evpr^1(\evs_k) = \exists \Box^{n-k-1}p$ for every $k < n$.}
	\label{TheLongChain}
	\end{subfigure}
	~
	\begin{subfigure}[b]{.45\textwidth}
	\centering
	\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
				thick]

			\node[vertex] (1) {$\evs$};
			\path[edge]
						(1) edge [loop left] node {$A$} (1);
	\end{tikzpicture}
	\caption{$\evM^2_\evs$, the public announcement of $p$ where $\evpr(\evs) = p$.}
	\label{TheShortAnnounce}
	\end{subfigure}
	\caption{We compare models $\evM^1_{\evs_0}$ (Subfigure \ref{TheLongChain}) and $\evM^2_\evs$
		(Subfigure \ref{TheShortAnnounce}). Although $\evM^1_{\evs_0}$ and
		$\evM^2_\evs$
		fulfill the postcondition of $\phi$ after their execution, $\evM^2_\evs$ is much smaller than
		$\evM^1_\evs$.}
	\label{comparePublicAnnounces}
\end{figure}

It is clear that $M^1$ contains more states and relations that $M^2$, but that they both achieve our
epistemic goal $\phi$.
This is illustrative of the weakness with regards to tersity of the models we build.
We have shown methods to build event models, but only concentrated on one singular event model to
build with the express purpose of goal achievement.\\
\\
A second example we could use is to let our goal state, $\phi = \Box(\alpha \lor \beta)$ in a single
agent system.
Let $\evM^1$ be the model we obtain from Corollary \ref{approximatingBRestricted}.
Then, let $\evM^2$ be the choice of the public announcements of $\alpha$ or $\beta$.
This time, we note that $\evM^2$ is a change that is less destructive after its execution.
That is, it is minimal in the sense that it was the smallest change to our knowledge and inferences
in order to realise $\phi$.

\begin{figure}[ht!]
	\centering
	\begin{subfigure}[b]{.45\textwidth}
	\centering
	\begin{tikzpicture}[-,>=stealth',shorten >=1pt,auto,node distance=2cm,
				thick]

			\node[vertex] (1) {$\evs_0$};
			\node[vertex] (2) [below left of=1] {$\evs_1$};
			\node[vertex] (3) [right of=2] {$\evs_2$};
			\path[edge]
						(1) edge node {} (2)
						(1) edge node {} (3);
	\end{tikzpicture}
	\caption{$\evM^1_{\evs_0}$, the model we would have generated using Corollary
    \ref{approximatingBRestricted}. We have that $\evpre(\evs_0) = \exists \phi$, $\evpr(\evs_1) =
			\exists \alpha$ and $\evpre(\evs_2) = \exists \beta$.}
	\label{TheStupidTree}
	\end{subfigure}
	~
	\begin{subfigure}[b]{.45\textwidth}
	\centering
	\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
				thick]

			\node[vertex] (1) {$\evs$};
			\node[vertex] (2) [right of=1] {$\evt$};
			\path[edge]
						(1) edge [loop left] node {} (1)
						(2) edge [loop right] node {} (2);
	\end{tikzpicture}
	\caption{$\evM^2_\evT$, where $\evT = \{\evs,\evt\}$. This is the disjoint union of the public
		announcement of $p$ where $\evpr(\evs) = \alpha$ and $\evpr(\evt) = \beta$.}
	\label{TheDualAnnounce}
	\end{subfigure}
	\caption{We compare models $\evM^1_{\evs_0}$ (Subfigure \ref{TheStupidTree}) and $\evM^2_\evT$
		(Subfigure \ref{TheDualAnnounce}). It is clear that after executing
		$\evM^2_{\evT}$ a smaller change to our knowledge and inference base has occurred.}
	\label{comparePublicAnnounces}
\end{figure}

Let us examine a parallel approach to the problem.
Suppose that we can describe an epistemic situation $\phi$ is true in our current epistemic state of
information.
Furthermore, let us aim to achieve an epistemic state $\phi''$.
Let $\krMo_s, \krMo''_{s''} \in \kripkeClass$ and $\krMo_s \models \phi$ and $\krMo''_{s''}
\models \phi$, and suppose $\evM'_{\evs'} \in \eventClass$ such that $\evM_\evs \otimes
\evM'_{\evs'} \sim \evM''_{\evs''}$.
We are interested in reasoning about all $\phi'$ such that $\evM'_{\evs'}
\models \phi'$.\\
\\
Aucher, in \cite{doi:10.3166/jancl.21.289-321,doi:10.1080/11663081.2012.736703},
discusses a solution to this problem by introducing a sequent calculus for dynamic 
epistemic logics.
This sequent calculus allows us to reason about informative updates from
a pre-update epistemic situation to a post-update epistemic situation.
This in turn allows us to build the most general description of an action model whose informative
update achieves our epistemic goal.\\
\\
We reproduce formally Aucher's sequent calculus from
\cite{doi:10.1080/11663081.2012.736703}.

\begin{defn}
	Let $\phi, \phi'' \in \lang$ and $\phi' \in \langActEx$ (Definition \ref{actModelLogic}), we say that
$\phi, \phi'' \models^2 \phi' \iff$ for each $\krMo_s, \krMo''_{s''} \in \kripkeClass$
such that $\krMo_s \models \phi$ and $\krMo''_{s''} \models \phi''$, and every $\evM'_{\evs'}
\in \eventClass$ such that $\evM_\evs \models \evpr'(s)$ and $\krMo_s \otimes \evM'_{\evs'}
\sim \krMo''_{s''}$ it holds that $\evMo'_{\evs'} \models \phi'$.
\end{defn}

In particular, the inference relation $\models^2$ describes a set of event models that fulfill its
properties.
We will informally say that $\mathcal{M}2(\phi,\phi'')$ is the group of event models such that, for a $\phi,
	 \phi'' \in \lang$, if
\[
	 \evM_\evs \in \mathcal{M}2(\phi,\phi'') \iff (\forall \phi' \in \langActEx
	 \text{ such that } \phi,\phi'' \models^2 \phi' \Rightarrow \evM_\evs \models \phi').
\]
\\
Next, we define the idea of the ``minimal change".

\begin{defn}
Let $\evM_\evt \in \eventClass$, and suppose that the execution of $\evM_\evt$ always results in the
postcondition $\phi \in \lang$.
We say that $\evM_\evt$ is the minimal change of $\phi$ if for any other $\evM'_{\evt'}$ such that
executing $\evM'_{\evt'}$ results in $\phi$ being true, there is some $\psi \in \lang$ such that $\psi \Rightarrow
\phi$ and $\psi \neq \phi$ where executing $\evM'_{\evt'}$ always results in $\psi$ being true.
\end{defn}

We have given two examples of minimal change above --- for $\phi = \Box^n p$ the minimal change is
the public announcement of $\phi$ (Figure \ref{ThePublicAnnounce}).
Similarly, for $\psi = \Box(\alpha \lor \beta)$, the disjoint union of the public announcement of
$\alpha$ and the public announcement of $\beta$ is a minimal change (Figure \ref{TheDualAnnounce}).\\
\\
We can now reason about our updates in their event model form.
It allows us to reason about their structure, about necessary preconditions and consequences of an
update's execution.\\
\\
We now pose two open questions which we leave as extensions involving the synthesis of this work
into Aucher's framework.
They extend the minimal description that Aucher defines (which describe which models will fulfill an
update) by asking ``how" to build these models, and hopefully unify the approach we discuss and
Aucher's sequence calculus.
These questions relate to achieving an epistemic goal $\phi \in \lang$.
\begin{enumerate}
	\item How can we build the smallest event model in terms of size that achieves $\phi$?
		It is worth noting that ``size" is at this rudimentary stage unclear, and we are implicitly discussing the
		number of event points.
		However, ``size" might instead be number of relations, or some other measure.
	\item How can we build the event model that minimally changes the epistemic situation and achieves
		$\phi$?
\end{enumerate}
