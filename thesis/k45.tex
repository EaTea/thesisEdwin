\section{Constructing event models in $\AXKFF$ --- fixed by 7th October 2013} \label{chapter:k45}

We have discussed models in the axiom system of $\AXK$.
In particular, we have focused on approximating arbitrary event models.
Our approximations can fulfil post-conditions and the effects of event model execution, up to modal
depth $n$.\\
\\
This result was particularly useful in showing that we could construct an event model, but because
it does not preserve many of the axioms necessary for discussing and reasoning about knowledge, its
usefulness is somewhat diminished.
If we are interested in reasoning about protocols
We will replicate a similar result of event model approximation in the axiomatic system
of $\AXKFF$.
This chapter details our results for our event model approximation in the axiomatic system
$\AXKFF$.

\subsection{Background}

Previously, we constructed models that were tree-like in their nature.
We defined many concepts used to describe trees, such as a ``root", ``subtrees" and ``forests".
This allowed us to approximate arbitrary models in $\AXK$, to model any post-condition we
were interested in.

\begin{figure}[ht!]
\centering
\begin{tikzpicture}[-,>=stealth',shorten >=1pt,auto,node distance=2cm,
			thick]

		\node[vertex] (1) {$\evs_0$};
		\node[vertex] (2) [below left of=1] {$\evs_1$};
		\node[vertex] (3) [right of=2] {$\evs_2$};
		\path[edge]
					(1) edge node {} (2)
					(1) edge node {} (3);
\end{tikzpicture}
\caption{A very simple model that we our previous methodology constructed.
We can immediately see the concept of a ``root" node and ``leaf" nodes.}
\label{exampleModel}
\end{figure}

However, the models we previously generated are not so sensible under an epistemic interpretation.
Indeed, although we can approximate an epistemic event model and the informative update that it
encodes, our resultant model is not so easily interpreted within the original logical systems we
used.
At present, we can thus approximate any event model, whether it is interpretable under epistemic
logics or not.\\
\\
In order to discuss epistemic logic, we need to first impose more restrictions on what axioms our
models must now abide by.
Within a modal logic context, knowledge has a specific structure which results from the axioms
specified in the axiomatic system.
We will move closer to the mainstream axiomatic systems used in epistemic logic by moving to the
axiomatic system $\AXKFF$.
We define the axiomatic system of $\AXKFF$ as follows

\begin{lemma} \label{axiomK45}
The axiomatisation $\AXKFF$ contains the axioms and rules from $\AXK$ (Definition
    \ref{axiomK}), as well as the following axioms
\begin{alignat*}{2}
  & \axFo && \quad \Box \phi \Rightarrow \Box \Box \phi \\
  & \axFi && \quad \Diamond \phi \Rightarrow \Box \Diamond \phi
\end{alignat*}
\end{lemma}

\begin{lemma} \label{axiomK45SoundComplete}
The axiomatisation $\AXKFF$ is sound and complete with respect to the logic
$\lang$.
\end{lemma}

$\AXKFF$ was first constructed by \FIXME and proved to be a sound and complete axiomatic
system by Grossi in \cite{grossi2007designing}.\\
\\
The impact these axioms have on our models is not immediately obvious.
We observe the following effects of the axioms
\begin{itemize}
	\item $\axFo$ causes every relation to be transitive
	\item $\axFi$ has more subtle consequences.
    Suppose $A$ is related to $B$.
    Then if $C$ is related to $A$, $C$ must also be related to $B$.
    A further consequence is that $B$ must also be related to $C$.
\end{itemize}

We demonstrate this in Figure \ref{k45VsKModels} by comparing models in $\AXK$ and $\AXKFF$ and how we need to change
our models to obey these axioms.

\begin{figure}[ht!]
\centering
\begin{subfigure}[b]{.45\textwidth}
\centering
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
      thick]

    \node[vertex] (1) {$\alpha$};
    \node[vertex] (2) [right of=1] {$\beta$};
    \node[vertex] (3) [above right of=2] {$\gamma$};
    \node[vertex] (4) [below right of=2] {$\delta$};
    \path[edge]
          (1) edge node {} (2)
          (2) edge node {} (3)
          (2) edge node {} (4);
\end{tikzpicture}
\caption{Suppose for our Kripke model $\krMo$ (which obeys the rules and axioms in $\AXK$)
  that $\krMo_\alpha \models p$, $\krMo_\beta \models q$, $\krMo_\gamma \models r$ and
  $\krMo_\delta \models q \land p$.
We can say that $\krMo_\alpha \models \Box q$, but we cannot say that $\krMo_\alpha
\models \Box \Box q$.
Then $\axFo$ is disobeyed and thus $\krMo$ is not a $\AXKFF$ event model.}
\label{kmodel}
\end{subfigure}
~
\begin{subfigure}[b]{.45\textwidth}
\centering
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
      thick]

    \node[vertex] (1) {$\alpha$};
    \node[vertex] (2) [right of=1] {$\beta$};
    \node[vertex] (3) [above right of=2] {$\gamma$};
    \node[vertex] (4) [below right of=2] {$\delta$};
    \path[edge]
          (1) edge node {} (2)
              edge node {} (3)
              edge node {} (4)
          (2) edge node {} (3)
              edge node {} (4)
              edge [loop right] node {} (2)
          (3) edge node {} (2)
              edge node {} (4)
              edge [loop above] node {} (3)
          (4) edge node {} (2)
              edge node {} (3)
              edge [loop below] node {} (4);
\end{tikzpicture}
\caption{Now our Kripke model $\krMo'$ obeys $\AXKFF$.
Let $\krMo'_\alpha \models p, \krMo'_\beta \models q, \krMo'_\gamma \models q \land r$ and
  $\krMo'_\delta) \models q \land p$.
Here, we see that (by $\axFo$) in order to say $\krMo'_\alpha \models \Box q$, we must also be
able to say $\krMo'_\alpha \models \Box \Box q$.}
\label{k45model}
\end{subfigure}
\caption{We compare two Kripke models, $\krMo$ (Subfigure \ref{kmodel}) and
  $\krMo'$ (Subfigure \ref{k45model}).}
\label{k45VsKModels}
\end{figure}

In Figure \ref{k45VsKModels} we compare a Kripke model in $\AXK$ to a model in $\AXKFF$.
We have already briefly discussed how $\axFo$ affects the reasonings we can make on the $\krMo_\alpha$ versus
$\krMo'_\alpha$.
Another observation we can make is with regards to the effect of $\axFi$ on $\krMo'_\alpha$ (Subfigure
\ref{k45model}).
By $\axFi$ for any formula $k \in \lang$ such that $\krMo'_\alpha \models
\Diamond k$, we have that $\krMo'_\alpha \models \Box \Diamond k$.
This causes points $\beta, \gamma$ and $\delta$ to become a completely connected component,
with an edge running to each one of them, as well as reflexive edges for each point.\\
\\
Up to now, what we have shown is an already well-defined idea for whether a Kripke model obeys the axioms of $\AXKFF$.
Unfortunately, this does not translate well to event models due to the differences in their
semantics.
In order to determine if an event model obeys the axioms of $\AXKFF$, we will formalise the ``model"
implications we previously discussed into conditions on the structure of the model (that is, the
frame of the model --- see Definition \ref{frame}).
These are the frame conditions of $\AXKFF$, and we will show that an event model that fulfils these
frame conditions, when executed on a Kripke model that obeys the axioms of $\AXKFF$ will preserve
these axioms post execution.

\begin{lemma} \label{lemma:k45frameconditions}
	Let $F = (S,R)$ be a frame.
	We say that $F$ is a $\AXKFF$ frame if it fulfils the following conditions:
	\begin{itemize}
		\item if $R$ is a transitive relation, then $\axFo$ is valid in any model where $F$ is its
			underlying structure --- that is, for $s, t, u \in S$ then $s R t \land t R u \Rightarrow s R u$
		\item if $R$ is a Euclidean relation, then $\axFi$ is valid in any model where $F$ is its
			underlying structure --- that is, for $s, t, u \in S$ then $s R t \land s R u \Rightarrow t R u$
	\end{itemize}
\end{lemma}

This is given as an exercise in \cite{fagin1995reasoning}, and we leave it as an exercise to the
reader to show that this holds.
We can use the concept of an $\AXKFF$ frame to define a $\AXKFF$ event model.

\begin{defn} \label{defn:k45eventModel}
	Suppose $\evM = (\evS, \evR, \evpr)$ is an event model.
	We say that $\evM$ is a {\em $\AXKFF$ event model} if $F = (\evS, \evR)$ is a $\AXKFF$ frame.
\end{defn}

The usefulness of a {\em $\AXKFF$ event model} is twofold.
Firstly, it is a structure which has some correspondence to the axioms of $\AXKFF$.
This means it has some epistemic meaning and can be interpreted in a setting that resembles
reasonings about knowledge and belief.
Secondly, we can show that if $\evM_\evT$ is a $\AXKFF$ event model then it preserves the axioms of
$\AXKFF$.

\begin{lemma} \label{lemma:k45preserved}
	Let $\krMo_T = ((S,R,V),T)$ is a $\AXKFF$ Kripke model and $\evM_\evT = ((\evS,\evR,\evpr),\evT)$ is a $\AXKFF$ event model, then
	$\krMo_T \otimes \evM_\evT$ is a $\AXKFF$ Kripke model.
\end{lemma}
\begin{proof}
	Let $\krMo'_{T'} = \krMo_T \otimes \evM_\evT = ((S',R',V'),T')$.\\
	\\
	The first property that will be shown to hold is that $R'$ is a transitive relation.
	Suppose that $s',t',u' \in S'$ such that $s' R'_a t'$ and $t' R'_a u'$.
	From Definition \ref{evModelEx}, $s' = (s,\evs), t' = (t,\evt)$ and $u' = (u,\evu)$ for $s,t,u \in
	S$ and $\evs,\evt,\evu \in \evS$, such that $V(s) \Rightarrow \evpr(\evs)$, $V(t) \Rightarrow
	\evpr(\evt)$ and $V(u) \Rightarrow \evpr(\evu)$.
	Furthermore, $s' R'_a t' \Rightarrow s R_a t \land \evs \evR_a \evt$, and $t' R'_a u' \Rightarrow
	t R_a u \land \evt \evR_a \evu$.
	From $s R_a t \land t R_a u$ we have $s R_a u$, since $R_a$ is a transitive relation by the
	hypothesis.
	Similarly, $\evs \evR_a \evt \land \evt \evR_a \evu \Rightarrow \evs \evR_a \evu$ since $\evR_a$
	is also a transitive relation.
	From Definition \ref{evModelEx}, $s R_a u \land \evs \evR_a \evu \Rightarrow (s,\evs) R'_a (u,\evu)
	\Rightarrow s' R'_a u'$.
	Then $R'$ is a transitive relation.\\
	\\
	Similarly we can show that $R'$ is an Euclidean relation.
	Suppose that $s',t',u' \in S'$ such that $s' R'_a t'$ and $s' R'_a u'$.
	From Definition \ref{evModelEx}, $s' = (s,\evs), t' = (t,\evt)$ and $u' = (u,\evu)$ for $s,t,u \in
	S$ and $\evs,\evt,\evu \in \evS$, such that $V(s) \Rightarrow \evpr(\evs)$, $V(t) \Rightarrow
	\evpr(\evt)$ and $V(u) \Rightarrow \evpr(\evu)$.
	Furthermore, $s' R'_a t' \Rightarrow s R_a t \land \evs \evR_a \evt$, and $s' R'_a u' \Rightarrow
	s R_a u \land \evs \evR_a \evu$.
	From $s R_a t \land s R_a u$ we have $t R_a u$, since $R_a$ is an Euclidean relation by the
	hypothesis.
	Similarly, $\evs \evR_a \evt \land \evs \evR_a \evu \Rightarrow \evt \evR_a \evu$ since $\evR_a$
	is also an Euclidean relation.
	From Definition \ref{evModelEx}, $t R_a u \land \evt \evR_a \evu \Rightarrow (t,\evt) R'_a (u,\evu)
	\Rightarrow t' R'_a u'$.
	Then $R'$ is an Euclidean relation.\\
	\\
	Since the frame conditions on $(S',R')$ hold $\krMo'_{T'}$ is a $\AXKFF$ Kripke model.
\end{proof}

This shows us that what we consider a $\AXKFF$ event model behaves as we expect --- if we execute
its update on a $\AXKFF$ Kripke model, the resulting Kripke model is also a $\AXKFF$ Kripke model.\\
\\
We can approximate informative updates using our previous method (detailed in Chapter
\ref{chapter:Multiagent}, but these updates do not preserve
axioms $\axFo$ and $\axFi$.
The resulting model barely resembles an epistemic model.
The approach in this chapter constructs event models that, after their execution on a model that
fulfils the conditions of $\AXKFF$, will preserve those conditions.\\
\\
We return to our open question --- if we have an $\AXKFF$ event model, can we construct a $\AXKFF$ event
model that is able to achieve the same epistemic effects, up to some modal depth $n$?

\subsection{Technical Preliminaries --- fixed by 11 September 2013}

We first define what a $B$-insane set is.
It is a necessary condition in order to generate our approximating $\AXKFF$ models.

\begin{defn} \label{binsane}
	Let $\evM_\evT = ((\evS, \evR, \evpre), \evT)$ be a multi-pointed event model and $B \subseteq A$.
	We say that $\evM_\evT$ is {\em $B$-insane} if and only if for all $\evs \in \evT$,
	for all $b \in B$ we have that $\evs \evR_b = \evR_b \evs = \varnothing$.
\end{defn}

If $B = \{b\}$, we say that the set $\evM_\evT$ is $b$-insane.
Similarly if $B = A$ we say that $\evM_\evT$ is simply insane, which fulfils
our previous definition of insanity models (Definition \ref{insanity}).\\
\\
What does it mean for a set of states to be $B$-insane?
If $\evM_\evT$ is $B$-insane, then any agent $b$ in $B$ can distinguish between
action points, but only knows the preconditions of each action point.
They do not actually have any knowledge about what they know or any
introspection at each action point.
This is demonstrated in Figure \ref{bInsaneExample}.
\FIXME might need a pagebreak here.

\begin{figure}[ht!]
\centering
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
      thick]

    \node[vertex] (1) {$\alpha$};
    \node[vertex] (2) [below of=1] {$\beta$};
    \node[vertex] (3) [right of=1] {$\gamma$};
    \node[vertex] (4) [below of=3] {$\delta$};
    \path[edge]
          (1) edge node {$B$} (2)
          (3) edge node {$C$} (4)
          (4) edge [loop below] node {$B$} (4);
\end{tikzpicture}
\caption{Consider our event model $\evM$. Let $B$ and $C$ be mutually exclusive
  subsets of $A$. Here, $\evM_\gamma$
  is $B$-insane, since there are no outgoing or incoming $B$-edges from these event points.
This is easily contrasted with $\evM_\alpha$, which has an outgoing $B$-edge, $\evM_\beta$, which
has an incoming $B$-edge, and $\evM_\delta$ which has a reflexive $B$-edge.}
\label{bInsaneExample}
\end{figure}

We now define the main operation to construct event models in $\AXKFF$ for the
purposes of realising a post condition.

\begin{defn} \label{makeEquivalence}
	Let $B \subseteq A$ and $\evM_\evT$ be a multi-pointed $B$-insane event model.
  For each $\evt \in \evT$ let $\evM_\evt$ be a tree event model in $\AXKFF$.
  Then the operation $I_B(\evM_\evT)$ constructs the event model $\evM'_{\evT'} =
  ((\evS',\evR',\evpr'),\evT')$ such that
  \begin{itemize}
    \item $\evS' = \evS$
    \item $\evR'_a = \evR_a$ if $a \notin B$
    \item $\evR'_a = \evR_a \cup \{(\evs, \evt) | \evs, \evt \in \evT\}$ if $a
    \in B$
    \item $\evpr' = \evpr$
    \item $\evT' = \evT$
  \end{itemize}
\end{defn}

We will say that $I_B$ is an operation that makes all the action
points in a ``distinguished" set of a multi-pointed event model ``equivalent" to a
group of agents $B$.
That is, any agent in $B$ considers each action point $\evs \in \evT$ to be the
same.

\begin{figure}[ht!]
\centering
\begin{subfigure}[b]{.45\textwidth}
\centering
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
      thick]

    \node[vertex] (1) {$\alpha$};
    \node[vertex] (2) [below of=1] {$\beta$};
		\node[vertex] (5) [right of=2] {$\tau$};
    \node[vertex] (4) [right of=5] {$\delta$};
    \node[vertex] (3) [above of=4] {$\gamma$};
    \path[edge]
          (1) edge node {$B$} (2)
          (3) edge node {$C$} (4)
          (4) edge [loop below] node {$B$} (4);
\end{tikzpicture}
\caption{Consider the model $\evMo_\evT$, with $\evT = \{\tau, \gamma\}$.}
\label{beforeOperation}
\end{subfigure}
~
\begin{subfigure}[b]{.45\textwidth}
\centering
\begin{tikzpicture}[->,>=stealth',shorten >=1pt,auto,node distance=2cm,
      thick]

    \node[vertex] (1) {$\alpha$};
    \node[vertex] (2) [below of=1] {$\beta$};
		\node[vertex] (5) [right of=2] {$\tau$};
    \node[vertex] (4) [right of=5] {$\delta$};
    \node[vertex] (3) [above of=4] {$\gamma$};
    \path[edge]
          (1) edge node {$B$} (2)
					(2) edge [loop below] node {$B$} (2)
					(5) edge [loop below] node {$B$} (5)
							edge node {$B$} (3)
          (3) edge node {$C$} (4)
							edge [loop above] node {$B$} (3)
							edge node {} (5)
          (4) edge [loop below] node {$B$} (4);
\end{tikzpicture}
\caption{Consider our new model $I_B(\evMo_\evT)$, with $\evMo_\evT$ defined as in Subfigure
\ref{beforeOperation}.}
\label{afterOperation}
\end{subfigure}
\caption{Subfigures \ref{beforeOperation} and \ref{afterOperation} demonstrate the effect of
applying our operation $I_B$ onto a model.}
\label{k45VsKModels}
\end{figure}

In order for us to use our previous operations in $\AXKFF$ we need to force further constraints on
some of our operators.
It is clear that $\sqcup$ will preserve the frame conditions of $\AXKFF$, but $\to_B$ does not.
We will redefine $\to_B$ to ensure that within our language it cannot create event models that are
are not $\AXKFF$ event models.

\begin{defn} \label{defn:k45:considers}
	Suppose $B \subseteq A$ is a subset of agents.
	Let $\evM_\evT = ((\evS,\evR,\evpr),\evT)$ and $\evM'_{\evT'} = ((\evS',\evR',\evpr'),\evT')$ be $\AXKFF$ event models.
	Furthermore, $\evM_\evT$ is a $B$-insane event model, and $\evM'_{\evT'}$ is defined such that for
	all $b$ in $B$, for all $\evt \in \evT'$, $\evt \evR'_b subseteq \evT'$.
	$\evM_\evT \to_B \evM'_{\evT'}$ is defined as in Definition \ref{considers}.
\end{defn}

Note the constraints we place on $\evM_\evT$ and $\evM'_{\evT'}$ being $B$-insane models.
These are necessary in order to preserve the frame conditions in Lemma
\ref{lemma:k45frameconditions}.

\newcommand{\EM}{\ensuremath{\eventClass}}

The addition of our new operator results in us having the following language for
event model construction in $\AXKFF$.
\[
	\evM_\evT ::= \aMod{M_s} \text{ } | \text{ }\evM_\evT \to_B \evM'_{\evT'} \text{ }|
  \text{ } \evM_\evT \sqcup \evM'_{\evT'} \text{ } | \text{ } I_B(\evM_\evT)
\]
where $\aMod{M_s} \in \insaneClass, \evM_\evT, \evM'_{\evT'}$ are multi-pointed event models and $B \subseteq
A$ is a subset of agents.
We will refer to our language as $\EM(\to,\sqcup,I)$. \\
\\
We will now show that this language always constructs models that preserve $\AXKFF$, and that any
event model that preserves the axioms of $\AXKFF$ can be constructed by our language.

\subsection{Some Interesting Technical Results}

To show that we can construct event models that preserve $\AXKFF$, there are two propositions that
must hold
\begin{enumerate}
	\item we can use our language to construct event models that will preserve $\AXKFF$
	\item an event model that preserves $\AXKFF$ can be constructed (up to $n$-bisimilarity) by our
		language
\end{enumerate}

Let us show that the first proposition --- that $\EM(\to,\sqcup,I)$ will construct $\AXKFF$ event
models.

\begin{lemma} \label{lemma:onlyK45Models}
	Let $\evM_\evT$ be a pointed event model constructed from the language $\EM(\to,\sqcup,I)$.
	Then $\evM_\evT$ is a $\AXKFF$ event model.
\end{lemma}
\begin{proof}
	We can show this through a case-by-case proof that each of the operations and atoms using in
	$\EM(\to,\sqcup,I)$ constructs a $\AXKFF$ event model.
	We first examine the atoms using in $\EM(\to,\sqcup,I)$ and show that they are $\AXKFF$ event
	models.\\
	\\
	Since the only atomic event models we use in $\EM(\to,\sqcup,I)$ are insanity models, we suppose
	that $\evM_{\evt} = ((\evS,\evR,\evpr),\{\evt\})$, where $\evS = \{\evt\}$ and $\evR =
	\varnothing$.
	This is a $\AXKFF$ frame since $\evR = \varnothing$ ensures that the frame conditions
	are trivially true.\\
	\\
	We now will show that $\sqcup$ constructs $\AXKFF$ event models.
	Let $\evM_\evT = ((\evS,\evR,\evpr),\evT)$ and $\evM'_{\evT'} = ((\evS',\evR',\evpr'),\evT')$ be
	$\AXKFF$ event models such that $\evS$ and $\evS'$ are disjoint.
	Now, let $\evM''_{\evT''} = \evM_\evT \sqcup \evM'_{\evT'} = ((\evS'',\evR'',\evpr''),\evT'')$.
	We need to show that the two frame conditions outlined in Lemma \ref{lemma:k45frameconditions}
	hold.\\
	\\
	We will show the first frame condition --- that is, that $\evR''$ is a transitive relation.
	Suppose that for $a \in A$ and $\evs'', \evt'', \evu'' \in \evS''$ such that $\evs'' \evR''_a
	\evt''$ and $\evt'' \evR''_a \evu''$, we must show that $\evs'' \evR''_a \evu''$.
	We have from Definition \ref{disjoint} that $\evR'' = \evR \sqcup \evR'$, $\evS'' = \evS \sqcup
	\evS'$ and from hypothesis that both $\evS$ and $\evS'$ are disjoint.
	We observe that from Definition \ref{disjoint}, the operation $\sqcup$ will construct no new
	relations from any element in $\evS$ to an element in $\evS'$ and vice versa.\\
	\\
	Then $\evs'', \evt'', \evu''$ must all originally be elements of either $\evS$ or $\evS'$ ---
	without loss of generality, we say that they are elements of $\evS$.
	Furthermore, then relation $\evs'' \evR''_a \evt''$ and $\evt'' \evR''_a \evu''$ also correspond
	to $\evs'' \evR_a \evt''$ and $\evt'' \evR_a \evu''$.
	Since $\evM_\evT$ is a $\AXKFF$ event model, then $\evs'' \evR_a \evt''$ and $\evt'' \evR_a \evu''$
	yields that $\evs'' \evR_a \evu''$, which implies that $\evs'' \evR''_a \evu''$.
	This shows that the transitivity frame condition holds.
	A similar argument can be made to show that $\evR''$ is a Euclidean relation.
	Thus, we have shown that $\evM''_{\evT''} = \evM_\evT \sqcup \evM'_{\evT'}$ is a $\AXKFF$ event
	model.\\
	\\
	We next show that $I_B$ is an $\AXKFF$ event model for $B \subseteq A$.
	Suppose that $\evM_\evT = ((\evS,\evR,\evpr),\evT)$ is a $B$-insane $\AXKFF$ event model.
	We will show that $\evM'_{\evT'} = ((\evS',\evR',\evpr'),\evT') = I_B(\evM_\evT)$ is an $\AXKFF$ event model, by showing the frame conditions in
	Lemma \ref{lemma:k45frameconditions}.\\
	\\
	Let us show that $\evR'$ is a transitive relation.
	Suppose that $a \in A$ and $\evs', \evt', \evu' \in \evS'$ and $\evs' \evR'_a \evt'$ and $\evt'
	\evR'_a \evu'$.
	We must show that $\evs' \evR'_a \evu'$.
	We note that this condition is already true if $a \notin B$ or $a \in B$ and
  $\evs', \evt', \evu' \notin \evT' = \evT$ since $\evM_\evT$ is a $\AXKFF$
  frame.
  We need only show that this holds for $\evs', \evt', \evu' \in \evT'$ and $a
  \in B$.\\
  \\
  Supposing that these conditions hold, we note that $\evs' \evR'_a = \evT'$
  (due to the application of $I_B$ as in Definition \ref{makeEquivalence}) and
  since $\evu' \in \evT'$ then $\evu' \in \evs' \evR'_a$.
  Again a similar argument can be made to show that $\evM'_{\evT'}$ is a
  Euclidean relation.
  In this way we can show that $\evM'_{\evT'}$ is also a $\AXKFF$ event model.\\
  \\
  Our final task is to show that for $B \subseteq A$, $\to_B$ will also
  construct $\AXKFF$ event models.
  Let $\evM_\evT = ((\evS,\evR,\evpr),\evT)$ and $\evM'_{\evT'} =
  ((\evM',\evR',\evpr'),\evT')$ be $\AXKFF$ event models.
  Furthermore, let $\evM_{\evT}$ be a $B$-insane event model, and let us
  constrain $\evR'$ such that if $b \in B$ and $\evs' \in \evT'$ then $\evs'
  \evR'_b = \evT'$.
  We will show that $\evM''_{\evT''} = ((\evS'',\evR'',\evpr''),\evT'') = \evM_\evT \to_B
  \evM'_{\evT'}$ is a $\AXKFF$ event model.\\
  \\
  Firstly, we show that for any $a \in A$, $\evR''_a$ is a Euclidean relation.
  Suppose that $\evs'',\evt'',\evu'' \in \evS''$ such that $\evs'' \evR''_a
  \evu''$ and $\evs'' \evR''_a \evt''$.
  We will show that $\evt'' \evR''_a \evu''$.
  We again note that as in the previous case for $I_B$, this condition is
  already true if $a \notin B$.
  We also note that it will hold if $\evs'',\evt'',\evu''$ are not
  elements of $\evT'$ or elements of $\evT''$.\\
  \\
  Let us suppose that $a \in B$ and furthermore, suppose that $\evs''$ is an
  element of $\evT''$.
  Then by the definition of $\to_B$ (Definition \ref{defn:k45:considers})
  $\evs'' \evR''_a = \evT'$.
  Furthermore, we have from hypothesis that if $\evt'' \in \evT'$, then $\evt''
  \evR'_a \evu''$ for all $a \in B$ and for all $\evu'' \in \evT'$.
  Since $\evt'' \evR'_a$ is left unchanged after the application of $\to_B$ we
  can conclude that $\evt'' \evR'_a \evu'' \Rightarrow \evt'' \evR''_a \evu''$,
  which shows that the relation $\evR''_a$ is a Euclidean relation.
  A similar proof will show that $\evR''_a$ is a transitive relation, and thus
  shows that $\evM''_{\evT''}$ is a $\AXKFF$ event model.\\
  \\
  By showing that under each of these operations as well as our original atoms,
  we construct $\AXKFF$ event models, we have shown that $\EM(\to,\sqcup,I)$
  constructs $\AXKFF$ event models.
\end{proof}

We have shown that any event models generated from $\EM(\to,\sqcup, I)$ are
$\AXKFF$ event models.
Thus, we can guarantee that if $\evM_\evT$ is a model generated by
$\EM(\to,\sqcup,I)$ and $\krMo_T$ is a $\AXKFF$ Kripke model, $\krMo_T
\otimes \evM_\evT$ is also a $\AXKFF$ Kripke model (this is a result of Lemma
  \ref{lemma:k45preserved}).
This shows that the constructions we use --- $\EM(\to, \sqcup, I)$ are
sound, and only generate $\AXKFF$ event models.\\
\\
Let us turn to the second goal we have and suppose that we have an event model, $\evM_\evT
= ((\evS,\evR,\evpr),\evT)$ that is a $\AXKFF$ multi-pointed event model.
Now, consider $n$ some positive integer.
Can we construct an event model $\evM'_{\evT'} = ((\evS',\evR',\evpr'),\evT')$
using $\EM(\to,\sqcup,I)$ that is $n$-bisimilar to $\evM_\evT$?

In order to show this to be possible, we must first conceptualise several
transformations to our models.
Firstly, we will define the idea of an unwound model.

\begin{defn}\label{def:unwoundModel}
  Suppose $\evM_\evT = ((\evS,\evR,\evpr),\evT)$ is a $\AXKFF$ multi-pointed
  event model.
  There is an event model, $\evM'_{\evT'} = ((\evS',\evR',\evpr'),\evT')$ such that
  \begin{itemize}
		\item $\evS'$ is the set of words $\evs \evS^\ast$, where $\evs \in \evT'$
			\footnote{We can consider each action point $\evs$ in the model to be labelled with the string of
			points it took to go from an element $\evt \in \evT'$ to $\evs$.
			Then $\evS^\ast$ is the set of strings (including $\lambda$, the empty word) over the alphabet 
			of $\evS$.}
		\item $\evR'_a$ is the transitive Euclidean closure of the set of relations $\{(\evp \evt,
			\evp \evt \evu)$ where $\evp \in \evS^\ast$ and $\evt \evR_a \evu$, for $\evt, \evu \in \evS \}$
		\item $\evpr'(\evp \evt) = \evpr(\evt)$
		\item $\evT' = \evT$
  \end{itemize}
  We say that $\evM'_{\evT'}$ is the {\em unwound model} of $\evM_\evT$.
\end{defn}

\begin{lemma} \label{lemma:unwoundModel:bisimilar}
  Suppose $\evM_\evT = ((\evS,\evR,\evpr),\evT)$ is a $\AXKFF$ multi-pointed
  event model.
	Let $\evM'_{\evT'} = ((\evS',\evR',\evpr'),\evT')$ be the unwound model of $\evM_\evT$.
	Then $\evM'_{\evT'}$ is a $\AXKFF$ event model and $\evM'_{\evT'} \sim \evM_\evT$.
\end{lemma}
\begin{proof}
	By the definition of an unwound model, we can see that the frame conditions in Lemma 
	\ref{lemma:k45frameconditions} will automatically be fulfilled.\\
	\\
	It remains to be shown that $\evM'_{\evT'} \sim \evM_\evT$.
	We define $\sim$ as
	\[
		\{(\evs',\evs) \text{ such that } \evs' \in \evS \land \evs \in \evS \land \evs' = \evp \evs
			\text{ where } \evp \in \evS^\ast \land \evpr'(\evs') \iff \evpr(\evs) \}
	\]

	From our definition of $\sim$, we have that $\evs' \sim \evs \iff (\evpr'(\evs') \iff
	\evpr(\evs))$.
	We now must check {\bf forth-$a$} and {\bf back-$a$}.\\
	\\
	Let $a \in A$ and $\evs' \in \evS' \land \evs' \evR'_a \evt'$.
	Suppose $\evs' \sim \evs \in \evS$.
	By the definition of $\sim$, $\evs' = \evp \evs$ where $\evp \in \evS^\ast$.
	From the definition of an unwound model, $\evt' = \evp \evs \evt$, where $\evt$ is some action
	point such that $\evs \evR_a \evt$.
	Since $\evs' \in \evS^\ast$, and we have $\evt' = \evs' \evt$ then $\evt' \sim \evt$.
	Then {\bf forth-$a$} holds.
	A similar proof can be shown for {\bf back-$a$}.
	Since both of these hold, we can say that $\evM'_{\evT'} \sim \evM_\evT$.
\end{proof}

The unwound model is an infinite pseudo-forest event model.
This means that the model somewhat resembles our original forest event models,
but with interior relations between the action points, and without the
restriction of finiteness.
We show an example of this in Figure \ref{generatedTreeExample}

\begin{figure}[ht!]
\centering
\caption{\FIXME Left subfigure should be original, right subfigure should be the
unwound model.} \label{generatedTreeExample}
\end{figure}

The unwound model is bisimilar to the original $\AXKFF$ event model.
However, as it may be an infinite event model (in terms of the number of action
points), it is undesirable to try and construct this model.
Furthermore, most of the time, we might only be interested in the
post-conditions of a event model that are up to some modal depth.
If we instead consider a finite submodel of the unwound model
model, we can show that this submodel is $n$-bisimilar to $\evM_\evT$.

\begin{defn} \label{unwoundNModel}
  Suppose $\evM_\evT = ((\evS,\evR,\evpr),\evT)$ is a $\AXKFF$ multi-pointed event model, and
	let $\evM''_{\evT''} = ((\evS'',\evR'',\evpr''),\evT'')$ be the unwound model of $\evM_\evT$.
  Let $n$ be some positive integer and let $\evM'_{\evT'} = ((\evS',\evR',\evpr'),\evT')$ be an event model such that
  \begin{itemize}
		\item $\evS' = \evs \evp$, where $\evp \in \evS^\ast$ is a string of length
    less than $n$ and $\evs \in \evT$
		\item $\evR'$ is $\evR''$ restricted to $\evS'$
		\item $\evpr'$ is $\evpr''$ restricted to $\evS'$
		\item $\evT' = \evT''$
  \end{itemize}
  We say that $\evM'_{\evT'}$ is the {\em unwound $n$-model} of $\evM_\evT$.
\end{defn}

\begin{lemma} \label{lemma:unwoundNModelNBisimilar}
  Suppose $\evM_\evT = ((\evS,\evR,\evpr),\evT)$ is a $\AXKFF$ multi-pointed
  event model.
  Let $n$ be some positive integer and $\evM''_{\evT''} = ((\evS'',\evR'',\evpr''),\evT'')$ be the
	unwound $n$-model of $\evM_\evT$.
  Then $\evM_\evT \sim_n \evM''_{\evT''}$.
\end{lemma}
\begin{proof}
	We will induct over $n$ to show that this holds.
	We hypothesise that for every action point $\evt \in \evT''$, $\evM''_\evt \sim_k \evM'_{\evt}$
	for some $0 \leq k \leq n$.\\
	\\
	We begin with our base case of $k = 0$.
	Since $\evT' = \evT''$ then $\evt \in \evT'' \Rightarrow \evt \in \evT'$.
	It is clear that $\evt$ is $0$-bisimilar to itself, and therefore we conclude that $\evM''_\evt
	\sim_0 \evM'_\evt$.\\
	\\
	Now, suppose that for $k = m$, our hypothesis holds.\\
	\\
	We will show that it now holds for $k = m+1$.
	We have already shown that $\evM''_\evt \sim_{k-1} \evM'_\evt$, through the inductive step.
	We must now show both of {\bf $k$-forth-$a$} and {\bf $k$-back-$a$} as in Definition
	\ref{nBisimEvent}.\\
	\\
	Let us show {\bf $k$-forth-$a$}.
	Let $a \in A$, and suppose that $\evs \in \evt \evR''_a$.
	We want to show there is some $\evs' \in \evt \evR'_a$ such that $\evs' \sim_{k-1} \evs$.
	To show that this is so, we would require that $\evs' \sim_{k-2} \evs$, and that {\bf
	$k-1$-forth-$a$} and {\bf $k-1$-back-$a$} both hold at $\evs$.\\
	\\
	We can continue this argument until we reach some new point $\evs \in \evS''$ that we require to be
	$0$-bisimilar to some other point $\evs' \in \evS'$.
	It is clear that these new points are 0-bisimilar, that is $\evs \sim_0 \evs'$, which allows us to
	claim that {\bf $k$-forth-$a$} is originally satisfied at $\evt$.\\
	\\
	We can make a similar argument for {\bf $k$-back-$a$} and through this we can satisfy the
	conditions of Definition \ref{nBisimEvent}, allowing us to claim that for all $\evM''_\evt \sim_k
	\evM'_{\evt}$.
\end{proof}

This submodel of the unwound model is $n$-bisimilar to our original $\evM_\evT$
and is finite, which are both desirable properties.
Using our previous example, we show in Figure \ref{genSubtreeExample} the
finite submodel that is $n$-bisimilar.

\begin{figure}[ht!]
\centering
\caption{\FIXME Show finite version of figure \ref{generatedTreeExample}} \label{genSubtreeExample}
\end{figure}

It remains to be shown that we can actually construct an unwound $n$-model using
$\EM(\to,\sqcup,I)$.
We will now show that we can actually construct any unwound $n$-model using $\EM(\to,
\sqcup, I)$, up to $n$-bisimilarity.

\begin{lemma} \label{lemma:unwoundModelBisimilarConstruct}
  Suppose $\evM_\evT = ((\evS,\evR,\evpr),\evT)$ is a $\AXKFF$ multi-pointed
  event model.
	Let $\evM'_{\evT'} = ((\evS',\evR',\evpr'),\evT')$ be the unwound model of
  $\evM_\evT$ and $n$ be some non-negative integer.
  We can construct an event model using $\EM(\to,\sqcup,I)$ that is $n$-bisimilar to
  $\evM'_{\evT'}$.
\end{lemma}
\begin{proof}
	Consider $\evs' \in \evS'$, where $\evs' = \evp \evs$ for some $\evp \in \evS^\ast$ and $\evs \in
	\evS$, and $0 \leq k \leq n$.
	We will consider a submodel of $\evM'_{\evT'}$, $\evM^k_{\evs'} =
	((\evS^k,\evR^k,\evpr^k),\{\evs'\})$, such that
	\begin{itemize}
		\item $\evS^k = \evs' \evp$, where $\evp \in \evS^\ast$ and $\evp$ is a string of length less
			than $k$
		\item $\evR^k_a = \evR'$ restricted to $\evS^k$ if $\evR'_a \evs'$ is empty
		\item $\evR^k_a = \evR' \setminus \{\evs' \evR^k_a = \evR^k_a \evs'\}$,
    restricted to $\evS^k$ if $\evR'_a \evs$ is nonempty
		\item $\evpr^k = \evpr'$ restricted to $\evS^k$
	\end{itemize}

	It is clear that when $\evs' \in \evT'$, there is no $\evt' \in \evS'$ such
  that for $a \in A$, $\evt' \evR'_a \evs'$.
  Then $\evM^k_{\evs'}$ is the unwound $k$-model of $\evM_\evs$.
	It will thus be sufficient to use this representation of a subtree and show that we can construct
	some event model that is bisimilar to $\evM'_\evs$.\\
	\\
	To show this we will induct over $k$, from 0 to $n$.
	Our induction hypothesis is as follows.
  For any point $\evs' \in \evS'$ we can construct a model using
  $\EM(\to,\sqcup,I)$, $\evM^{k'}_{\evs''}$ that is bisimilar to $\evM^k_{\evs'}$.\\
	\\
	Let $k = 0$.
	Let $\evM^{0'}_{\evs''} = ((\evS^{0'},\evR^{0'},\evpr^{0'}),\{\evs'\}) \in \insaneClass$ where
	\begin{itemize}
		\item $\evS^{0'} = \{\evs''\}$
		\item $\evR^{0'} = \varnothing$
		\item $\evpr^{0'} = \{(\evs'',\evpr(\evs))\}$
	\end{itemize}

	As $\evpr^{0'}(\evs'') = \evpr(\evs) = \evpr'(\evs')$ then $\evpr^{0'}(\evs'') \iff
  \evpr'(\evs')$.
	Then $\evM^{0'}_{\evs'} \sim \evM^0_{\evs'}$.\\
	\\
	Now, we suppose that the induction hypothesis holds for $k$.
	We will show it also holds for $k+1$.
	We need only consider $a \in A$ such that $\evR'_a \evs'$ is empty.
	We shall call these agents $A' = \{a_1,a_2,\ldots,a_j\}$.
  \\
  Let $a' \in A'$, and $\evs' \evR'_{a'} \evt'$.
  We can construct a model $\evM^{k'}_{\evt''}$ using $\EM(\to,\sqcup,I)$ that is
  bisimilar to $\evM^k_{\evt'}$.
  Since $\evs' \evR'_{a'} \evt'$ then $\evt'' \evR^{k'}_{a'} = \evR^{k'}_{a'}
  \evt'' = \varnothing$.
  Then $\evM^{k'}_{\evt''}$ is $a'$-insane and this holds for every $\evt' \in
  \evs' \evR'_{a'}$.\\
  \\
  Then
  \[
    \bigsqcup_{\evt' \in \evs' \evR'_{a'} \land \evM^{k'}_{\evt''} \sim_k
      \evM^k_\evt} \evM^{k'}_{\evt'}
  \]
  is also an $a'$-insane model (although we have not shown this previously, it
  is quite clear from the definition of $\sqcup$), which allows us to construct the model
  \[
    \evM^{k'}_{\evT^{a'}} = I_{a'}(\bigsqcup_{\evt' \in \evs' \evR'_{a'} \land \evM^{k'}_{\evt''} \sim_k
      \evM^k_\evt} \evM^{k'}_{\evt'}) = ((\evS^{k'},\evR^{k'},\evpr^{k'}),\evT^{a'})
  \]

  It is clear that for $\evt'' \in \evT'$, $\evt'' \evR^{k'}_{a'} = \evT^{a'}$, by the
  definition of $I_{a'}$ and the definition of $\evM^{k'}_{\evt'}$.
  We can form a similar model for each of $a_1,a_2,\ldots,a_j \in A'$, which is
  $\evM^{k'}_{\evT^{a_1}}, \evM^{k'}_{\evT^{a_2}}, \evM^{k'}_{\evT^{a_3}},
  \ldots, \evM^{k'}_{\evT^{a_j}}$ respectively.
  We now consider the model $\evM^{0'}_{\evs'}$, as defined in our base case,
  which is bisimilar to $\evM^0_{\evs'}$.
  We note that it is trivially $a'$-insane for all $a' \in A'$.\\
  \\
  The two conditions we outlined in the previous paragraph allow us to use the $\to_{a'}$ operation as follows
  \[
    \evM^{k+1'}_{\evs'} = (\ldots((\evM^0_{\evs'} \to_{a_1}
            \evM^{k'}_{\evT^{a_1}}) \to_{a_2} \evM^{k'}_{\evT^{a_2}}) \to_{a_3}
        \ldots ) \to_{a_j} \evM^{k'}
  \]

  This model is a $\AXKFF$ event model, since the operations used to construct
  it were $\EM(\to,\sqcup,I)$.
  It remains to be shown that $\evM^{k+1'}_{\evs''} \sim \evM^{k+1}_{\evs'}$.\\
  \\
  We will construct the following relation $\sim$ over $\evS^{k+1'} \times
  \evS^{k+1}$ such that $(\evt',\evt) \in \sim \iff \evM^{i'}_{\evt'} \sim
  \evM^{i}_{\evt}$ for some $0 \leq i \leq k$, or $\evt' = \evs'' \land \evt =
  \evs'$.
  We will show that this is a bisimulation.\\
  \\
  We note that for any pair $(\evt',\evt)$, $\evpr^{k+1'}(\evt') \iff
  \evpr^{k+1}(\evt)$ since $\evM^{i'}_{\evt'} \sim \evM^{i}_{\evt}$.
  It remains to be shown that if $(\evt', \evt) \in \sim$ then both {\bf
  forth-$a$} and {\bf back-$a$} hold.  
%  We want to show that forth-$a$ holds
%  If we get a point pairing $(\evt', \evt)$, and
%  lets say that $\evt' \evR^{k+1'}_a \evu'$, then there is a point in $\evu \in
%  \evt \evR^{k+1}$ such that $(\evu',\evu)$.
%  If $\evR^{k+1}_a \evt'$ is empty, then $\evM^{i'}_{\evu'} \sim
%  \evM^i_{\evu}$.

%  \\
%  Let us show that {\bf forth-$a$} holds.
%  Suppose $(\evt', \evt) \in \sim$ and let $a \in A$.
%  Consider the point $\evu' \in \evt' \evR^{k+1'}_a$.
%  We note that $\evt' \evR^{k+1'}_a \evu' \iff \evR^{k+1'}_a \evt' = \varnothing$.
%  We must show that there is some $\evu \in \evt \evR^{k+1}_a$ such that
%  $(\evu',\evu) \in \sim$.
%  \\
%  We note that some submodel of $\evM^{k+1}_{\evs'}$, $\evM^i_{\evt}$ is
%  bisimilar to a submodel of $\evM^{k+1'}_{\evs''}$, which is
%  $\evM^{i'}_{\evt'}$.
%  The relations for $\evt' \evR^{i'}_a$ and $\evt \evR^{i}_a$ are both the empty set, which
%  is different from $\evt' \evR^{k+1'}_a$ and $\evt \evR^{k+1}_a$.
%  This is the only difference between $\evM^{i}_{\evt}$ and
%  $\evM^{k+1}_{\evt}$, and $\evM^{i'}_{\evt'}$ and $\evM^{k+1'}_{\evt'}$.\\
%  \\
%  Due to taking the transitive Euclidean closure of relations in the original unwound
%  model, we have that our construction 
\end{proof}

%\begin{defn} \label{unwoundNModel}
%  Suppose $\evM_\evT = ((\evS,\evR,\evpr),\evT)$ is a $\AXKFF$ multi-pointed event model, and
%	let $\evM''_{\evT''} = ((\evS'',\evR'',\evpr''),\evT'')$ be the unwound model of $\evM_\evT$.
%  Let $n$ be some positive integer and let $\evM'_{\evT'} = ((\evS',\evR',\evpr'),\evT')$ be an event model such that
%  \begin{itemize}
%		\item $\evS' = \evs \evS^{n-1}$ and $\evs \in \evT$
%		\item $\evR'$ is $\evR''$ restricted to $\evS'$
%		\item $\evpr'$ is $\evpr''$ restricted to $\evS'$
%		\item $\evT' = \evT''$
%  \end{itemize}
%  We say that $\evM'_{\evT'}$ is the {\em unwound $n$-model} of $\evM_\evT$.
%\end{defn}
%
%\begin{lemma} \label{lemma:unwoundNModelNBisimilar}
%  Suppose $\evM_\evT = ((\evS,\evR,\evpr),\evT)$ is a $\AXKFF$ multi-pointed
%  event model.
%  Let $n$ be some positive integer and $\evM''_{\evT''} = ((\evS'',\evR'',\evpr''),\evT'')$ be the
%	unwound $n$-model of $\evM_\evT$.
%  Then $\evM_\evT \sim_n \evM''_{\evT''}$.
%\end{lemma}
%\begin{proof}
%	We will induct over $n$ to show that this holds.
%	We hypothesise that for every action point $\evt \in \evT''$, $\evM''_\evt \sim_k \evM'_{\evt}$
%	for some $0 \leq k \leq n$.\\
%	\\
%	We begin with our base case of $k = 0$.
%	Since $\evT' = \evT''$ then $\evt \in \evT'' \Rightarrow \evt \in \evT'$.
%	It is clear that $\evt$ is $0$-bisimilar to itself, and therefore we conclude that $\evM''_\evt
%	\sim_0 \evM'_\evt$.\\
%	\\
%	Now, suppose that for $k = m$, our hypothesis holds.\\
%	\\
%	We will show that it now holds for $k = m+1$.
%	We have already shown that $\evM''_\evt \sim_{k-1} \evM'_\evt$, through the inductive step.
%	We must now show both of {\bf $k$-forth-$a$} and {\bf $k$-back-$a$} as in Definition
%	\ref{nBisimEvent}.\\
%	\\
%	Let us show {\bf $k$-forth-$a$}.
%	Let $a \in A$, and suppose that $\evs \in \evt \evR''_a$.
%	We want to show there is some $\evs' \in \evt \evR'_a$ such that $\evs' \sim_{k-1} \evs$.
%	To show that this is so, we would require that $\evs' \sim_{k-2} \evs$, and that {\bf
%	$k-1$-forth-$a$} and {\bf $k-1$-back-$a$} both hold at $\evs$.\\
%	\\
%	We can continue this argument until we reach some new point $\evs \in \evS''$ that we require to be
%	$0$-bisimilar to some other point $\evs' \in \evS'$.
%	It is clear that these new points are 0-bisimilar, that is $\evs \sim_0 \evs'$, which allows us to
%	claim that {\bf $k$-forth-$a$} is originally satisfied at $\evt$.\\
%	\\
%	We can make a similar argument for {\bf $k$-back-$a$} and through this we can satisfy the
%	conditions of Definition \ref{nBisimEvent}, allowing us to claim that for all $\evM''_\evt \sim_k
%	\evM'_{\evt}$.
%\end{proof}
%
%This submodel of the unwound model is $n$-bisimilar to our original $\evM_\evT$
%and is finite, which are both desirable properties.
%Using our previous example, we show in Figure \ref{genSubtreeExample} the
%finite submodel that is $n$-bisimilar.
%
%\begin{figure}[ht!]
%\centering
%\caption{\FIXME Show finite version of figure \ref{generatedTreeExample}} \label{genSubtreeExample}
%\end{figure}
%
%It remains to be shown that we can actually construct an unwound $n$-model using
%$\EM(\to,\sqcup,I)$.
%We will now show that we can actually construct any unwound $n$-model using $\EM(\to,
%\sqcup, I)$.
%
%\begin{lemma} \label{unwoundNModelGenerated}
%  Suppose $\evM_\evT = ((\evS,\evR,\evpr),\evT)$ is a $\AXKFF$ multi-pointed
%  event model.
%  Let $n$ be some positive integer and let $\evM'_{\evT'} = ((\evS', \evR', \evpr'),\evT')$
%  be the unwound $n$-model of $\evM_\evT$.
%  $\evM'_{\evT'}$ can be constructed by $\EM(\to, \sqcup, I)$, up to $n$-bisimilarity.
%\end{lemma}
%\begin{proof}
%  We will show this holds using a proof by induction over $n$.
%\end{proof}

Using this result, we can now construct, up to $n$-bisimilarity, an
approximation of any update using semantically meaningful operations.
This means that we can approximate any update, with the size of our resulting
model dependent on the depth of the post-conditions we are interested in.
We formally summarise and show this in Theorem
\ref{thm:nBisimAnyK45EventModel}.

\begin{thm} \label{thm:nBisimAnyK45EventModel}
  Suppose $\evM_\evT = ((\evS,\evR,\evpr),\evT)$ is a $\AXKFF$ multi-pointed
  event model.
  Let $n$ be some non-negative integer.
  We can construct a $\AXKFF$ event model, $\evM'_{\evT'} =
  ((\evS',\evR',\evpr'),\evT')$ using
  $\EM(\to,\sqcup,I)$ such that $\evM'_{\evT'} \sim_n \evM_\evT$.
\end{thm}
\begin{proof}
  By Lemma \ref{lemma:unwoundModel:bisimilar} we can construct the unwound model
  of $\evM_\evT$, which we call $\evM''_{\evT''} \sim \evM_{\evT}$.
  By \FIXME we can construct an event model, $\evM'_{\evT'}$ such that
  $\evM'_{\evT'} \sim_n \evM''_{\evT''}$ \FIXME using $\EM(\to,\sqcup,I)$.
  By Lemma \ref{lemma:onlyk45Models}, $\evM'_{\evT'}$ is a $\AXKFF$ event model.
  We have that $\evM'_{\evT'} \sim_n \evM''_{\evT''} \sim \evM_\evT$.
  Since bisimilarity is an equivalence relation (\FIXME), we can conclude that
  $\evM'_{\evT'} \sim_n \evM_\evT$.
\end{proof}

We restate this result in terms of goal achievement in Corollary
\ref{corr:k45GoalAchievement}.

\begin{corr} \label{corr:k45GoalAchievement}
  Suppose $\phi \in \lang$ is some epistemic goal with $\mDep(\phi) = n$ for $n$
  some non-negative integer.
  Let $\evM_\evT$ be some $\AXKFF$ event model such that for some $B
  \subseteq A$, $\vdash \sqex{\evM_\evT} \Rightarrow \phi$ and $\vdash
  \anex{\evM_\evT} \iff \exists_B \phi$.
  There is some event model $\evM'_{\evT'}$ constructible by $\EM(\to,\sqcup,I)$
  such that $\vdash \sqex{\evM'_{\evT'}} \Rightarrow \phi$ and $\vdash
  \anex{\evM'_{\evT'}} \iff \exists_B \phi$.
\end{corr}
\begin{proof}
  From Theorem \ref{thm:nBisimAnyK45EventModel} we are able to construct
  $\evM'_{\evT'}$ such that $\evM'_{\evT'} \sim_n \evM_\evT$.
  We have by Lemma \ref{nBisimmilarEventExec} that $\evM'_{\evT'} \sim_n
  \evM_\evT$ will ensure that a post condition of modal depth $n$ that is true
  after execution of $\evM_\evT$ will also be true after execution of
  $\evM'_{\evT'}$.
\end{proof}

This result (Corollary \ref{corr:k45GoalAchievement}) states
that if we have an event model that guarantees the realisation of a goal $\phi$, we can build an event
model that also guarantees the realisation of $\phi$.
This difference is small, but powerful --- it progresses beyond ``there is some model that realises
$\phi$".
We can now say that if we have that model, we can construct it in a meaningful language, and the
resulting event model is almost a true epistemic event model of knowledge or belief.
